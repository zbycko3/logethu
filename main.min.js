function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(e){_defineProperty(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ProductsActionType,DefaultProductList,ProductExtenderType;$.extend($.expr[":"],{emptyInput:function(e){"use strict";return $(e).is(":input")&&e.value.match(/^\s*$/)}}),jQuery.fn.countdown=function(t,d,u){"use strict";void 0===d&&(d=!1);return $(this).each(function(){var i,e=$(this),a=e.find(".h"),n=e.find(".hdescr"),o=e.find(".m"),s=e.find(".mdescr"),l=e.find(".s"),c=e.find(".sdescr");i=countdown(t,function(e){0===e.hours&&0===e.minutes&&0===e.seconds&&(window.clearInterval(i),void 0!==u&&u());function t(e,t,i,a){var n=!1;if(0===i&&r?n=!0:r=!1,2===e.length){var o=i+"";1===o.length?(e[0].innerHTML=n?"":"0",e[1].innerHTML=n?"":o[0]):(e[0].innerHTML=n?"":o[0],e[1].innerHTML=n?"":o[1])}else e[0].innerHTML=n?"":i;t.length&&(t[0].innerHTML=n?"":a+function(e){switch(e){case 1:return"a";case 2:case 3:case 4:return"y";default:return""}}(i))}var r=d;r=t(a,n,e.hours,"godzin"),r=t(o,s,e.minutes,"minut"),r=t(l,c,e.seconds,"sekund")},countdown.HOURS|countdown.MINUTES|countdown.SECONDS)})},function(v,l,i,a,n){"use strict";var o,t,r,c,e,s,d,u,p,m,h,f,g,b,y,k,C,w,S,x,P,$,q,M,j,I,T,A,z,D,O,F,N,E,_,B,L,R,U,H,G,W,V,Q,J,Z,K,Y,X,ee,te,ie,ae,ne,oe,re,se,le,ce,de,ue,pe,me,he,fe,ve,ge,be,ye,ke,Ce,we,Se,xe,Pe,$e,qe,Me,je,Ie,Te,Ae,ze,De,Oe,Fe,Ne,Ee,_e,Be,Le,Re,Ue,He=He||{};function Ge(){toastr.error("Produkt nie został dodany do koszyka")}function We(e){var t=v(".js-compare-button"),i=v(".compare-panel");t.text("Porównaj produkty ("+e+")").data("compared-products",e),i.data("compared-products",e),2<=e?t.addClass("button-light-blue").removeClass("button-gray"):t.addClass("button-gray").removeClass("button-light-blue")}function Ve(e){for(var t=v(".comparison-bar").find("[data-product-id]"),i=0;i<t.length;i++)t[i].innerHTML="",void 0!==e[i]&&o(t[i],e[i])}function Qe(e,t){var i=v(".product-item").find('[data-product-id="'+e+'"]'),a=v(".compare-panel").find('[data-product-id="'+e+'"]'),n=i.parent().find(":checkbox"),o=a.parent().find(":checkbox");parseInt(v(".compare-panel").data("compared-products")),"removed"===t?(n.attr("title","Dodaj produkt do porównania").attr("checked",!1),i.find(".compare-label").text("do porównania"),o.attr("title","Dodaj produkt do porównania").attr("checked",!1),a.find(".compare-label").text("do porównania")):"added"===t&&(n.attr("title","Usuń produkt z porównania").attr("checked",!0),i.find(".compare-label").text("porównaj"),o.attr("title","Usuń produkt z porównania").attr("checked",!0),a.find(".compare-label").text("porównaj"))}function Je(e){var t="";if(-1<location.href.search("/comparison/")){0===e.length&&(t=",show");for(var i=0,a=e.length;i<a;i++)t=t+","+e[i].id;var n={title:document.title};history.replaceState(n,n.title,t.substr(1))}}function Ze(t,i,a){v.ajax({url:"/comparison/add/"+t,type:"POST",dataType:"json",success:function(e){"OK"===e.message?(We(e.items.length),Qe(t,"added"),Ve(e.items),"function"==typeof i&&i(e)):(Qe(t,"removed"),toastr.warning(e.message),"function"==typeof a?a(e):"function"==typeof i&&i(e))},error:function(){"function"==typeof a?a():"function"==typeof i&&i()}})}function Ke(t,i,e){v.ajax({url:"/comparison/remove/"+t,type:"POST",dataType:"json",success:function(e){We(e.items.length),Ve(e.items),Qe(t,"removed"),Je(e.items),"function"==typeof i&&i(e)},error:function(){"function"==typeof e?e():"function"==typeof i&&i()}})}function Ye(e){return 0<e?e:0}function Xe(e){return e<10?"0"+e:String(e)}function et(e){var t=v(e),i=function(e){return e&&e.trim().replace(/\s+/gi,"_")}(t.find('input[name="q"]').val()),a=v(e).attr("action"),n=t.serializeArray();return n[0].value=i,a+="?"+v.param(n),l.location=a,!1}function tt(){h.removeClass("hints-active")}function it(){h.hasClass("hints-active")&&h.addClass("hints-focus-out")}function at(e){var t=h.find('input[name="selected_group_id"]').val(),i=l.innerWidth<768;b.addClass("spinner input-spinner"),v.ajax({type:"GET",url:"/sugestie",data:{q:e,selected_group_id:t,mobile:i},success:function(e){0<e.length?(h.addClass("hints-active"),h.removeClass("hints-focus-out"),g.html(e)):tt()},complete:function(){b.removeClass("spinner input-spinner")}})}function nt(){var e=f.val();2<=e.length?at(e):tt()}function ot(){h.on("change",'input[name="selected_group_id"]',function(){nt()}),h.on({focusin:function(){h.hasClass("hints-active")&&h.removeClass("hints-focus-out")},focusout:function(){it()},mouseleave:function(){it()}})}function rt(e,t){e.eq(0).text(t[0]),e.eq(1).text(t[1])}function st(e){var t=v(".hot-shot-timer"),i=t.find(".h"),a=t.find(".m"),n=t.find(".s");rt(i,e.hours),rt(a,e.minutes),rt(n,e.seconds)}function lt(e,t){i.mq("only all and (max-width: "+e.data("max-screen-width")+")")?e.hasClass("slick-initialized")||(e.slick(t),e.addClass("scrollable")):e.hasClass("slick-initialized")&&(e.slick("unslick"),e.removeClass("scrollable"))}function ct(){return K.add(Y)}function dt(e){return e.closest(".feature-value-wrapper").find(".parent-feature-value")}function ut(e){return e.closest(".feature-value-wrapper").find(".child-feature-value")}function pt(e){return!!function(e){return ut(e).filter(":checked").length}(e)}function mt(e,t){if(J){v(".js-search-pins, .js-phrase-was-corrected-info").hide();var r=v("#productListOverlay");v("input:focus").blur(),r.removeClass("hidden"),void 0!==V&&V.abort(),qe(),V=v.ajax({url:decodeURI(encodeURI(e)),type:"GET",dataType:"json",success:function(e){var t=v("#productsListContainer"),i=v("#noResultsContainer"),a=v(".filter-group-column .filter-group"),n=v(e.productsList).html()||"",o=v(e.pagination).html();de(),0<e.productsCount?(i.html("").hide(),t.html(n).show(),v(".pagination").html(o),v("#resultsPerPage").html(e.perPage),v("#viewsSelector").html(e.viewsSelector),ce(!0)):(t.html("").hide(),i.html(n).show().promise().done(function(){He.Slick.init()}),ce(!1)),re(e.featureQuantities,Z,".feature-value-quantity","featureValueId"),re(e.manufacturerQuantities,Z,".manufacturer-quantity","manufacturerId"),re(e.categoryQuantities,v("body"),".category-quantity","categoryId"),se(e.rangeFeatureExtremums,Z),oe(),ne(),a.find("ul.list-more, ul.list-less").each(function(){ve(v(this))}),Pe(),r.addClass("hidden")},complete:function(){(new ExtendedEcommerce).pushImpressions(),"function"==typeof t&&t()}})}}function ht(e,t){var i=l.location.href.split("?")[0].split("#")[0],a=v.grep(ge(e),function(e){return""===e.value||"page"===e.name&&!t},!0),n=v.param(a);return decodeURI(i+(n?"?"+n:""))}function ft(e,t){v(".pills-container").length<=0&&(v("#pillsBox").append('<div class="pills-container"></div>'),v(".pills-container").append('<button class="btn btn-link no-padding clear-all-pills js-clear-all-pills" type="button"></button>'),v(".clear-all-pills").append('<i class="fontello icon-cancel"></i>').append("<u>usuń wszystkie filtry</u>")),0===v('.single-pill[data-name="'+e+'"]').length&&(v(".pills-container").find(".clear-all-pills").before('<div class="button button-gray disabled-button single-pill" data-name="'+e+'"></div>'),v('.single-pill[data-name="'+e+'"]').append('<span class="pill-name" title="'+t+'">'+t+"</span>").append('<button class="btn btn-link no-padding pills-remove" type="button"><i class="fontello icon-cancel"></i></button>'))}function vt(e,t){var i=v('.single-pill[data-name="'+e+'"]');i.length<=0?ft(e,t):i.children(".pill-name").attr("title",t).text(t)}function gt(e){v('.single-pill[data-name="'+e+'"]').remove(),v(".single-pill").length<1&&v(".pills-container").remove()}function bt(e){return(e+"-").replace("f[","").replace("]-","").split("][")}function yt(e,t){var i=e.siblings("label").find(".feature-value").text();if(e.is(":text")){var a=e.val(),n=e.data("feature-unit");","===a.substr(-1)&&(a=a.substr(0,a.lastIndexOf(","))),"from"===t[1]?i="od "+a:"to"===t[1]&&(i="do "+a)}else-1!==i.indexOf("(")&&(i=i.substr(0,i.lastIndexOf("(")))," "===i.substr(-1)&&(i=i.substr(0,i.lastIndexOf(" ")));return i+(n?" "+n:"")}function kt(e){return e.closest("ul").find(":checked")}function Ct(e){var t=e.attr("name"),i=bt(t),a=yt(e,i),n=function(e){return e.closest(".feature-value-wrapper").find(".parent-feature-value")}(e),o=n.attr("name"),r=bt(o),s=yt(n,r),l=e.hasClass("parent-feature-value"),c=function(e){return e.closest("li").children("ul").find(":checkbox").length}(n),d=function(e){return e.closest("ul").find(":checked").length}(e),u=e.prop("checked"),p=function(e){return e.closest(".filter-group").find("h4").text()}(e),m=!1;if(d=!0===v(e).data("without-children")?(m=!0,0):c<d&&0!==c?c:d,"categories"!==i[0]&&"groups"!==i[0])if("manufacturers"===i[0])u?ft(t,a):gt(t);else if(e.is(":text"))""!==e.val()?vt(t,p+": "+a):gt(t);else if(0===c)if(1===d||m&&v(e).is(":checked")){var h="";if(m){var f=v(e).siblings("label").text().trim();a=f.substr(0,f.lastIndexOf("(")-1),h="["+i[1]+"]"}else a=yt(kt(e),i);vt("f["+i[0]+"]"+h,p+": "+a)}else 1<=d?vt("f["+i[0]+"]",p+": wybrano "+d):gt(m?"f["+i[0]+"]["+i[1]+"]":"f["+i[0]+"]");else 0<c&&(1!==d||t===o&&!u?1<=d&&(t!==o||u)?vt(o,s+": wybrano "+d):gt(o):(1===c?l&&(a=yt(function(e){return e.closest("li").find("ul").find(".child-feature-value")}(e),i)):a=yt(kt(e),i),vt(o,a)))}function wt(e){e.on("change",":checkbox, :input:not(#panelFiltersSearch)",function(){var e=v(this),t=e.closest(".feature"),i=e.is(':not([name*="f[groups]"], [name*="f[categories]"])');e.hasClass("child-feature-value")&&i?(function(e){var t=dt(e),i=e.prop("checked");t.prop("checked",!0),t.siblings("label").addClass("text-bold"),e.siblings("label").toggleClass("text-bold",i)}(e),pt(e)||(dt(e).prop("checked",!1),dt(e).siblings("label").removeClass("text-bold"))):e.hasClass("parent-feature-value")&&i&&function(e){var t=ut(e),i=e.is(":checked");t.prop("checked",i),t.siblings("label").toggleClass("text-bold",i),e.siblings("label").toggleClass("text-bold",i)}(e),i&&e.is(":checked")||!e.is(":checkbox")&&0<e.val().length?(t.addClass("filtered"),e.is(":checkbox")&&e.siblings("label").addClass("text-bold")):(0===e.closest(".filter-group").find("input").filter(function(e,t){var i=v(t);return"checkbox"===i.attr("type")?i.is(":checked"):"text"===i.attr("type")?0<i.val().length:void 0}).length&&t.removeClass("filtered"),e.siblings("label").removeClass("text-bold")),we(),de()})}function St(){0<v("#advancedFilters").find('input[name*="f"]').filter(function(){return v(this).is(":checked")||"text"===v(this).attr("type")&&""!==v(this).val()}).length?te.removeClass("hidden"):te.addClass("hidden"),0<v(".js-clear-all-pills:visible").length?ie.removeClass("hidden"):ie.addClass("hidden")}function xt(){var e=v(".js-toggle-all-filters"),t=v("#advancedFilters"),i=e.find("span"),a=e.find(".icon-right-open, .icon-cancel");Z.find(".filter-group-container").toggleClass("hidden"),t.toggleClass("hidden"),de(),a.hasClass("icon-cancel")?(i.text("Wyszukiwanie zaawansowane"),He.Utils.ScrollTo.verticalScroll({target:"body"})):(i.text("Zamknij wyszukiwanie zaawansowane"),He.Utils.ScrollTo.verticalScroll({target:"#advancedFilters",margin:20})),a.toggleClass("icon-right-open icon-cancel")}function Pt(){if(!Q){var e=Y.find(".list-manufacturers").find("li");e.length&&(n(e.get()),v(".filter-group-panel .filter-group").find("ul:not(.list-manufacturers)").each(function(){ve(v(this))})),Q=!0}}function $t(){var e=localStorage.referrer;return e||l.location.origin}function qt(n,e,t){function i(e){var t=Math.abs(parseFloat(e.toString().replace(",",".")))||n,i=parseFloat(o.minimalOverallAmmount()),a=parseFloat(o.maximalOverallAmmount());return t<=i&&(t=i),a<=t&&(t=a),t}function a(){Ie('[href="#installment"]').find("span").text(r.to(o.lowestInstallment()))}var o=this,r=wNumb({decimals:2,mark:",",postfix:" zł"});o.percentageConfiguration=je.observableArray([]),o.overallAmount=je.observable(n),o.minimalOverallAmmount=je.observable(0),o.maximalOverallAmmount=je.observable(n),o.firstPayment=je.observable(e||0),o.numberOfInstallments=je.observable(t||48),o.minimumlInstallmentsNumber=je.observable(),o.monthsSliderInitialValue=je.observable(),o.wantsFirstPayment=je.computed(function(){return 0<parseInt(o.firstPayment(),10)},o),o.creditAmount=je.computed(function(){return o.overallAmount()-r.from(o.firstPayment())},o),o.oneInstallmentAmount=je.computed(function(){var e=parseInt(o.numberOfInstallments(),10);return o.creditAmount()*(1+e*o.percentageConfiguration()[e-1])/e},o),o.lowestInstallment=je.computed(function(){var e=o.percentageConfiguration().length;return o.creditAmount()*(1+e*o.percentageConfiguration()[e-1])/e},o),o.overallAmountPrice=je.computed({read:function(){return r.to(i(o.overallAmount()))},write:o.overallAmount},o),o.overallAmount.subscribe(function(){var e=i(o.overallAmount());document.getElementById("installmentFirstPaymentSlider").noUiSlider.updateOptions({range:{min:0,max:Math.floor(e)}}),o.overallAmount(e)}),o.percentageConfiguration.subscribe(function(){var e=parseInt(o.minimumlInstallmentsNumber(),10),t=o.percentageConfiguration().length,i=parseInt(o.monthsSliderInitialValue(),10);e<t&&(document.getElementById("installmentMonthsSlider").noUiSlider.updateOptions({start:i,range:{min:e,max:t}}),a())}),o.firstPayment.subscribe(function(e){if(parseFloat(e)>parseFloat(o.overallAmount())){var t=wNumb({decimals:0,mark:",",postfix:" zł"});o.firstPayment(t.to(Math.floor(o.overallAmount())))}}),Ie.get("/internal/credit-lines/fetch",function(e){null!==e.min&&o.minimalOverallAmmount(e.min),null!==e.max&&o.maximalOverallAmmount(e.max),null!==e.minimumInstallments&&o.minimumlInstallmentsNumber(e.minimumInstallments),null!==e.initialInstallments&&o.monthsSliderInitialValue(e.initialInstallments),o.percentageConfiguration(e.percentage)}.bind(o)).success(function(){!function(){a();var e=o.percentageConfiguration().length,t=o.monthsSliderInitialValue()>e?e:o.monthsSliderInitialValue();o.numberOfInstallments(t)}()})}He.Navigator={userAgent:function(){return navigator.userAgent}},He.History={pushState:function(e,t,i){history.pushState(e,t,i)},replaceState:function(e,t,i){history.replaceState(e,t,i)}},He.Basket={add:function(t,i,a,n){v.ajax({url:"/basket/add",type:"POST",data:{product_id:t,quantity:i},success:function(e){if("function"==typeof a&&a(e),0<parseInt(e))He.Request.redirect("/koszyk");else if(Ge(),"function"==typeof n)try{n({product_id:t,quantity:i})}catch(e){console.error("error at errorCallback",e)}},error:function(){if(Ge(),"function"==typeof n)try{n({product_id:t,quantity:i})}catch(e){console.error("error at errorCallback",e)}}})}},He.Comparison=(o=function(e,t){var i=document.createElement("a");i.href="/products/"+t.id+"/redirect",i.title=t.name;var a=document.createElement("img");a.src=t.photo,a.className="img-responsive",a.alt=t.name;var n=document.createElement("a");n.className="badge badge-light-blue text-center",n.onclick=function(){He.Comparison.remove(t.id)};var o=document.createElement("i");o.className="fontello fontello-minimize-size icon-cancel",i.appendChild(a),e.appendChild(i),n.appendChild(o),e.appendChild(n)},t=function(){var e=v(".js-compare-button");a.windows.device&&i.touch&&e.removeAttr("target"),e.click(function(e){v(this).hasClass("button-gray")&&(e.preventDefault(),toastr.warning('Musisz wybrać co najmniej 2 produkty aby dokonać porównania. Zaznacz <label><input type="checkbox" disabled>do porównania</label> przy wybranych produktach.',"Uwaga!"))})},r=function(){v("#productsListContainer").on("change",":checkbox",function(){var e=v(this),t=e.siblings("label").data("product-id"),i=e.is(":checked"),a=e.closest(".product-item").siblings().find(":checkbox");i?(a.attr("disabled",!0),Ze(t,function(){a.removeAttr("disabled")})):(a.attr("disabled",!0),Ke(t,function(){a.removeAttr("disabled")}))}),v(".compare-panel").on("change",":checkbox",function(){var e=v(this),t=e.siblings("label").data("product-id"),i=e.is(":checked"),a=e.closest(".compare-panel").siblings().find(":checkbox"),n=parseInt(e.closest(".compare-panel").data("compared-products"));i?(a.attr("disabled",!0),e.closest(".compare-panel").data("compared-products",n+1),Ze(t,function(){a.removeAttr("disabled")})):(a.attr("disabled",!0),e.closest(".compare-panel").data("compared-products",n-1),Ke(t,function(){a.removeAttr("disabled")}))}),v(".spinner-wrapper, .compare-panel").on("click",".compare-label",function(e){var t=v(this),i=t.closest(".checkbox").find(":checkbox"),a=t.parent("label").data("product-id"),n=v(".js-compare-button").data("compared-products"),o=v(".compare-panel").data("compared-products"),r=0,s=!1,l="Musisz wybrać co najmniej 2 produkty aby dokonać porównania.";if(void 0!==n&&(r=parseInt(n),s=!1),void 0!==o&&(r=parseInt(o),s=!0),!i.is(":checked"))return!0;1<r?c(a):(!0!==s&&(l+='  Zaznacz <label><input type="checkbox" disabled>do porównania</label> przy wybranych produktach.'),toastr.warning(l,"Uwaga!")),e.preventDefault()})},{init:function(e){t(),r(),null!=e&&(We(e.length),0<e.length&&e.forEach(function(e){Qe(e.id,"added")})),Ve(e)},add:Ze,remove:Ke,removeAll:function(){v.ajax({url:"/comparison/remove-all",type:"POST",dataType:"json",success:function(){We(0),function(){var e=v(".product-item");e.find(":checkbox").attr("checked",!1),e.find(".compare-label").text("do porównania")}(),Ve([]),Je([])}})},show:c=function(e){var t=v(".compare-panel").data("compared-products"),i=v(".js-compare-button").data("compared-products"),a=0;void 0!==i&&(a=parseInt(i)),void 0!==t&&(a=parseInt(t)),1<a&&He.Request.openWindow("/comparison/show"+(e?"?fromId="+e:""))}}),He.Counter={countdown:function(t,i,e,a,n){function o(){var e;t=new Date(t).getTime(),i=new Date(i).getTime(),e=function(e,t){var i=(t-e)/1e3;return{hours:Xe(Ye(Math.floor(i/3600))),minutes:Xe(Ye(Math.floor(i%3600/60))),seconds:Xe(Ye(i%60)),isEnded:i<=0}}(t,i),"function"==typeof a&&a(e),e.isEnded&&(clearInterval(r),"function"==typeof n&&n()),t+=s}var r,s=1e3*e;r=setInterval(function(){o()},s),o()}},He.SearchBar=(m={rules:{q:{required:!0,minlength:2}},errorLabelContainer:"#searchErrorLabelContainer",highlight:!(p={onGroupsClick:function(){v("#searchBar").removeClass("hints-active"),v(this).toggleClass("opened")},onGroupsMouseLeave:function(){v(this).removeClass("opened")},onGroupItemClick:function(){var e=v(this).data("group-id");d.val(e).trigger("change")},onSelectedGroupChange:function(){var e=u.filter('[data-group-id="'+v(this).val()+'"]');e.addClass("selected").siblings("li").removeClass("selected"),e.addClass("selected").siblings("li").children("input").attr("disabled","disabled"),e.children("input").removeAttr("disabled"),s.find("span").html(e.html())},onSearchSubmit:function(){return et(e)}}),onfocusout:function(){v(this.settings.errorLabelContainer).hide()},submitHandler:function(e){return He.SearchBar.go(e)}},{init:function(){!function(){var t=v(".search-bar-col"),i=v("body");v(".js-show-search").on("click",function(e){t.hasClass("hidden-xs")?(t.removeClass("hidden-xs"),i.removeClass("hidden-search-bar")):(t.addClass("hidden-xs"),i.addClass("hidden-search-bar")),e.preventDefault()})}(),e=v("#searchBar"),s=e.find(".search-groups"),d=s.find("input[name=selected_group_id]"),u=s.find("ul > li"),d.on("change",p.onSelectedGroupChange),s.on({click:p.onGroupsClick,mouseleave:p.onGroupsMouseLeave}),u.on("click",p.onGroupItemClick),e.validate(m),d.trigger("change"),v("body").is(".search-bar-initialized")&&v(".js-show-search").trigger("click")},go:et}),He.SearchHints=(h=v("#searchBar"),f=v('input[name="q"]'),g=v(".js-search-hints"),b=v(".search-text"),{init:function(){ot(),function(){var e=null;f.on({keyup:function(){clearTimeout(e),e=setTimeout(nt,400)}})}()}}),He.Navigation=(y=v("#navigation"),k=v("#navigationContainer"),C=v("#mobileNavigation"),w=v("#mobileNavigationSwitcher"),S=v("#pageOverlay"),x=y.find(".category-list"),P=x.find("ul li"),q=$=!1,M=function(){$||v.get("/internal/navigation/get-subcategories",function(e){var n;try{n=JSON.parse(e)}catch(e){n={}}v.isEmptyObject(n)||(P.filter(".has-subcategories").each(function(e,t){var i=v(t),a=i.data("category-id");n[a]&&i.append(n[a])}),$=!0)})},j=function(){q||v.get("/internal/navigation/get-mobile-navigation",function(e){if(e){var t=C.data("mmenu");t&&(t._init(v(e)),q=!0)}})},{init:function(){var e,t=/iPad|iPhone|iPod/.test(navigator.platform);C.mmenu({},{pageSelector:"#pageWrapper"}),w.on("click",function(e){j(),e.preventDefault()}),a.any||(y.on({mouseenter:function(){e=setTimeout(function(){M(),S.removeClass("hidden"),k.addClass("hovered"),y.addClass("hovered")},500)},mouseleave:function(){clearTimeout(e),S.addClass("hidden"),y.removeClass("hovered"),k.removeClass("hovered"),P.removeClass("hovered")}}),y.find("ul:first").menuAim({activate:function(e){v(e).addClass("hovered")},deactivate:function(e){v(e).removeClass("hovered")},submenuDirection:"below",exitOnMouseOut:!0}),x.find("ul:first").menuAim({activate:function(e){var t=v(e);t.addClass("hovered"),t.parents(".categories").find(".promo-image").toggle(!t.hasClass("has-subcategories"))},deactivate:function(e){var t=v(e);t.removeClass("hovered"),t.parents(".categories").find(".promo-image").show()},exitOnMouseOut:!0}),t&&v("#header a, #navigation a").mouseover(function(){He.Request.redirect(v(this).attr("href"))}))}}),He.HotShot={init:function(e,t,i){He.Counter.countdown(t,e,1,st,i)},setRemainingTime:st},He.SimpleCategoryNavigation={init:function(){v(".simple-category-navigation").find(".js-toggle").on("click",function(){var e=v(this),t=e.closest("li"),i=e.find("i");t.hasClass("opened")?(t.removeClass("opened"),i.removeClass("icon-minus").addClass("icon-plus")):(t.addClass("opened"),i.removeClass("icon-plus").addClass("icon-minus"))})}},He.Slick=(A={centerMode:!(T={infinite:!0,slidesToShow:1,slidesToScroll:1}),infinite:!0,slidesToShow:7,slidesToScroll:1,responsive:[{breakpoint:1199,settings:{slidesToShow:5}},{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:1}}]},D={infinite:!(z={centerMode:!0,focusOnSelect:!0,infinite:!0,slidesToScroll:1,slidesToShow:3}),slidesToShow:5,slidesToScroll:5,responsive:[{breakpoint:1199,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:991,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}}]},F={infinite:!(O={slidesToShow:4,slidesToScroll:4}),slidesToShow:5,slidesToScroll:5,responsive:[]},N={prevArrow:'<a data-role="none" class="slick-prev" aria-label="previous"><i class="icon fontello icon-arrows-left" title="Poprzednie"></i></a>',nextArrow:'<a data-role="none" class="slick-next" aria-label="next"><i class="icon fontello icon-arrows-right" title="Następne"></i></a>'},E={prevArrow:'<a data-role="none" class="slick-prev" aria-label="previous" title="Poprzedni"><i class="icon fontello icon-slider-arrow-prev"></i></a>',nextArrow:'<a data-role="none" class="slick-next" aria-label="next" title="Następny"><i class="icon fontello icon-slider-arrow-next"></i></a>'},_={prevArrow:'<a data-role="none" class="slick-prev" aria-label="previous" title="Poprzedni"><i class="fontello icon-left-open slider-arrow"></a>',nextArrow:'<a data-role="none" class="slick-next" aria-label="next" title="Następny"><i class="fontello icon-right-open slider-arrow"></a>'},B={lazyLoad:"progressive"},L={numberOfSlide:v(".slide").length,autoplay:!0,autoplaySpeed:5e3},R={pauseOnHover:!0,pauseOnFocus:!0},U={customPaging:function(e,t){return'<a href="#" data-role="none">'+e.$slides.eq(t).data("title")+"</a>"}},H=function(e){v(l).on("focus",function(){e.slick("pause")})},G=function(e){v(document).on("focus",function(){e.slick("pause")})},{init:function(){v(".js-scrollable").each(function(){var e=v(this),t=function(e){var t=e.data("pagerCustom")?U:{},i=!0===e.data("sliderNonRwd")?F:D,a=e.data("singleItem")?T:i,n=e.data("sliderArrows"),o=N,r={asNavFor:e.data("sliderSync")?e.data("sliderSync"):null},s="nav"===e.data("sliderRole")?z:{},l="true"===e.attr("data-sliderBrandZone")?A:{},c=!0===e.data("fourItems")?O:{},d=!0===e.data("lazyLoaded")?B:{},u=!0===e.data("autoRotation")?L:{},p=!0===e.data("stopAutoplay")?R:{};return"topslider"===n?o=_:"topsliderSprite"===n&&(o=E),v.extend({},a,o,e.data(),t,r,s,l,c,d,u,p)}(e);!function(e){e.data("dots")&&e.on("init",function(e,t){t.$slider.closest(".box").find("h2").append(t.$dots)})}(e),e.data("max-screen-width")?(e.removeClass("scrollable"),v(l).resize(function(){lt(e,t),function(e,t){I&&clearTimeout(I),I=setTimeout(function(){lt(e,t)},500)}(e,t)}),lt(e,t)):e.is(".slick-initialized")||(e.slick(t),function(e){if("undefined"!=typeof Storage){var t=e.data("slider-id"),i=localStorage.getItem(t);if(void 0===t)return;(null===i||L.numberOfSlide-1<i)&&(i=0),localStorage.setItem(t,i),e.slick("goTo",i,!0),i++,localStorage.setItem(t,i)}else console.log("Sorry, your browser does not support web storage...")}(e),function(t){var e=t.data("slider-id"),i=Number(localStorage.getItem(e)-1),a=0;t.on("afterChange",function(){var e=t.slick("slickCurrentSlide");L.numberOfSlide-1<i&&i--,i===e&&(a++,i===e&&0<a&&(t.slick("pause"),H(t),G(t)))})}(e),function(i){var e=v(".icon-slider-arrow-prev"),t=v(".icon-slider-arrow-next"),a=v(".slick-dots"),n=v(".slide"),o=v(".slider");[e,t,a,n].forEach(function(e,t){e.on("click",function(){i.slick("pause"),H(i),G(i)}),n.on("mousedown",function(){i.slick("pause"),H(i),G(i)}),n.hover(function(){o.children().off("hover")}),n.on("click",function(){var e=i.data("slider-id"),t=v(".slider").slick("slickCurrentSlide");localStorage.setItem(e,t)})}),i.on("swipe",function(){i.slick("pause")})}(e),localStorage.removeItem("undefined"))})}}),He.ProductListParamsManager=(J=!(Q=!1),Z=v("#columnFiltersContainer"),K=v("#columnFiltersForm"),Y=v("#panelFiltersForm"),X=v("#toggleColumnFilters"),ee=v(".js-reset-all-filters"),te=v("#advancedFilters .js-reset-all-filters"),ie=v("#columnFiltersContainer .js-reset-all-filters"),ae=v(".js-submit-filters"),ne=function(){v(".simple-category-navigation a:not(.js-group)").each(function(e,t){var i=v(t),a=i.prop("href"),n=l.location.search,o=-1===a.indexOf("?")?a.length:a.indexOf("?"),r=a.substring(0,o);n=(n=(n=n.replace(/per_page/,"PPGTAG")).replace(/page=\d+&?/,"")).replace(/PPGTAG/,"per_page"),i.prop("href",r+n)})},oe=function(){Z.find(".simple-category-navigation li.feature-value-wrapper").each(function(){var e=v(this),t=0===e.find("li > label:not(.feature-value-disabled)").length;e.children("label").toggleClass("feature-value-disabled",t),e.children("span.toggle-subcategory").toggleClass("hidden",t),e.find("input.parent-feature-value").prop("disabled",t)});var e=v(".no-search-results"),t=Z.find(".simple-category-navigation ul li label:not(.feature-value-disabled), .js-immunity").length;if(e.toggleClass("hidden",!(0===t)),0===Z.find(".simple-category-navigation li.feature-value-wrapper").length){var i=v(".simple-category-navigation").find("a:not(.feature-value-disabled, .js-group)").length;v(".simple-category-navigation .js-group").toggleClass("feature-value-disabled",i<=0)}},re=function(a,e,t,n){e.find(t).each(function(){var e=v(this),t=e.data(n),i=t in a?a[t]:0;e.html("("+i+")"),le(e,i)})},se=function(o,e){e.find('[name*="[to]"], [name*="[from]"]').each(function(e,t){var i=v(t),a=i.data("feature-id"),n=i.data("range-type");""!==a&&("from"===n&&i.prop("placeholder",a in o?o[a].min:"od"),"to"===n&&i.prop("placeholder",a in o?o[a].max:"do"))})},le=function(e,t){var i=e.closest("label"),a=i.siblings("input");0===t?(i.addClass("feature-value-disabled"),i.hasClass("text-bold")||a.prop("disabled",!0)):(i.removeClass("feature-value-disabled"),a.prop("disabled",!1)),0===i.length&&0===a.length&&e.parent().toggleClass("feature-value-disabled",t<=0)},ce=function(e){var t=v(".product-list-utilities-bar"),i=v(".pagination-bar");t.toggleClass("hidden",!e),i.toggleClass("hidden",!e)},de=function(){ue()?he():me()},ue=function(){var a=!1,e=v("#advancedFilters").find('input[name*="f["]'),n=v("#columnFiltersForm");return e.each(function(){var e=v(this),t=n.find('input[name="'+e.attr("name")+'"]');if(-1===e.attr("name").indexOf("f[categories]")&&-1===e.attr("name").indexOf("f[groups]"))if(0===t.length){var i=pe(e);if(!0===i||""!==i)return void(a=!0)}else if(pe(t)!==pe(e))return void(a=!0)}),a},pe=function(e){var t=v(e);switch(t.attr("type")){case"checkbox":return t.is(":checked");case"text":return t.val()}},me=function(){St(),ae.addClass("button-gray").prop("disabled",!0)},he=function(){St(),ae.removeClass("button-gray").prop("disabled",!1)},fe=function(){var e=X,t=e.closest(".filters-wrapper");t.hasClass("active")?(t.removeClass("active").css("top","inherit"),e.text("Filtruj")):(t.addClass("active").css("top",l.pageYOffset),e.text("Zwiń filtry"))},ve=function(e){var t=e.children("li");if(1<t.length){var d=t.eq(0).hasClass("js-manual-sorting"),u=t.eq(0).hasClass("js-manual-sorting-regarding-quantities");n(t,{sortFunction:function(e,t){var i=v(e.elm),a=v(t.elm),n=0,o=0,r=0,s=0,l=null,c=null;if(0!==i.length&&0!==a.length&&(n=parseInt(i.find("span[class$=quantity]").text().replace("(","")),o=parseInt(a.find("span[class$=quantity]").text().replace("(",""))),d){if(0!==i.length&&0!==a.length&&(r=parseInt(v(e.elm).data("manualOrder")),s=parseInt(v(t.elm).data("manualOrder"))),i.hasClass("js-toggle"))return 0;if(u)return r===s?0:s<r?1:-1;if(r<s){if(0<n&&0<o)return-1;if(n<1&&0<o)return 1;if(0<n&&o<1)return-1;if(n<1&&o<1)return-1}else{if(0<n&&0<o)return 1;if(n<1&&0<o)return 1;if(0<n&&o<1)return-1;if(n<1&&o<1)return 1}return 0}return l=i.find(".js-feature-value").text().toLowerCase(),c=a.find(".js-feature-value").text().toLowerCase(),n===o||i.hasClass("js-toggle")?i.hasClass("js-toggle")?0:l.localeCompare(c):n<o?1:-1}})}},ge=function(e){return e.find(".parent-feature-value").each(function(e,t){var i=v(t),a=i.is(':not([name*="f[groups]"], [name*="f[categories]"])');(function(e){return!ut(e).not(":checked").length})(i)&&a?ut(i).prop("disabled",!0):pt(i)&&a&&i.prop("disabled",!0)}),e.serializeArray()},be=function(e){var t=v(".js-filters-panel-toggle"),i=t.find("i"),a=t.find("span"),n=v(".advanced-filters .filter-group-container");e?(a.text("zwiń filtry"),n.removeClass("hidden"),i.removeClass("icon-left-open").addClass("icon-right-open")):(i.hasClass("icon-right-open")?a.text("rozwiń filtry"):a.text("zwiń filtry"),n.toggleClass("hidden"),i.toggleClass("icon-right-open icon-left-open"))},ye=function(e,t,i){var a=Y.find('[name="'+t+'"]');"checkbox"===e?a.prop("checked",i).trigger("change"):a.val(i)},ke=function(){var e=v(".filter-utilities-bottom").find(".submit-filters"),t=Y.find(".filter-group-container"),i=v("#header"),a=t.height()-i.height()<v(l).height();e.toggleClass("visible-xs",a)},Ce=function(e){var t=v("#selectAllFilteredFeatures");"uncheck"===e?t.attr("data-action","uncheck").removeClass("hidden").children("u").text("odznacz wszystko"):t.attr("data-action","check").removeClass("hidden").children("u").text("zaznacz wszystko")},we=function(){setTimeout(function(){var e=Y.find(".filter-group:visible").find("li:visible > label"),t=e.siblings(":checkbox").length,i=e.siblings(":visible:checked").length;0===t||""===v("#panelFiltersSearch").val()?v("#selectAllFilteredFeatures").addClass("hidden"):Ce(i===t?"uncheck":"check")},50)},Se=function(){K.find(".list-categories input").prop("checked",!1)},xe=function(e,t){var n=v.querystring(t),i=v(e).find("input");i.removeAttr("checked"),i.siblings("label").removeClass("text-bold"),i.closest(".filter-group").removeClass("filtered"),v.each(i,function(){var e=v(this);if(e.is(":checkbox")){var t=e.closest(".feature-value-wrapper");if(e.prop("name")in n)if(e.prop("checked","checked"),v('input[name="'+e.prop("name")+'"]').siblings("label").addClass("text-bold"),e.closest(".filter-group").addClass("filtered"),-1!==e.prop("name").indexOf("categories")&&v('input[name*="f[groups]"]').siblings("label").removeClass("text-bold"),e.hasClass("parent-feature-value")){if(-1===e.prop("name").indexOf("categories")&&-1===e.prop("name").indexOf("groups")){var i=t.find("ul.subcategory");i.find("input.child-feature-value").prop("checked","checked"),i.find("label").addClass("text-bold")}}else if(e.hasClass("child-feature-value")){var a=t.find("input.parent-feature-value");a.prop("checked","checked"),a.siblings("label").addClass("text-bold")}}else e.is(":text")&&(e.val(n[e.prop("name")]||""),void 0!==n[e.prop("name")]&&e.closest(".filter-group").addClass("filtered"));Ct(e)})},Pe=function(){v(".js-group").each(function(e,t){var i=v(t).find(".js-parent-category");0<i.length&&(n(i,{sortFunction:function(e,t){var i=parseInt(v(e.elm).find(".js-parent-category-quantity").text().replace("(","")),a=parseInt(v(t.elm).find(".js-parent-category-quantity").text().replace("(",""));return i===a?0:i<a?1:-1}}),i.find(".js-subcategory").each(function(e,t){$e(v(t).find("li"))}))})},$e=function(e){0<e.length&&n(e,{sortFunction:function(e,t){var i=parseInt(v(e.elm).find(".js-subcategory-quantity").text().replace("(","")),a=parseInt(v(t.elm).find(".js-subcategory-quantity").text().replace("(",""));return i===a?0:i<a?1:-1}})},qe=function(){var e=v(".box-recommended-products-in-category"),t="js-box-invisible",i=document.location.href.match(/page=(.+)/);null!==i&&1<parseInt(i[1])?e.addClass(t):e.removeClass(t)},{init:function(){we(),wt(ct()),function(e){e.on("click",".js-clear-feature-filter",function(){var e=v(this).closest(".feature"),t=e.find(":checked"),i=e.find("input[type=text]").filter(function(){return 0!==v(this).val().length});0<i.length&&i.removeAttr("value").change(),t.removeAttr("checked").change(),e.removeClass("filtered").find("label").removeClass("text-bold"),de()})}(ct()),function(s){s.on("change","input",function(){v('[name*="f[categories]"]').prop("disabled",!1);var e=v(this),t="page"===e.attr("name"),i=e.closest(".filter-group"),a=e.closest(".feature-value-wrapper"),n=ht(s,t),o='[name*="f[groups]"], [name*="f[categories]"]';if(s.find(":checkbox:disabled:not([data-initial-quantity=0])").prop("disabled",!1),ye(e.attr("type"),e.attr("name"),e.is(":checkbox")?e.is(":checked"):e.val()),e.is(":checkbox, :text"))if(l.clearTimeout(W),e.is(o)){var r=e.closest(".feature-value-wrapper").find('[name*="f[groups]"]').prop({disabled:!1,checked:!0});v(o).not(r).prop({disabled:!0,checked:!1}),e.prop({disabled:!1,checked:!0}),n=ht(s,t),Se(),v(o).not(r).prop({disabled:!1}),e.prop({disabled:!1}),He.Request.redirect(n)}else e.is(":text")&&e.val()===e.attr("data-prev-value")&&J||(e.attr("data-prev-value",e.val()),Ct(e),J&&(W=l.setTimeout(function(){He.Utils.History.push(n),mt(n)},100)));else He.Utils.History.push(n),mt(n);e.closest(".list-categories").length<1&&(e.hasClass("parent-feature-value")?e.is(":checked")?a.find(".js-toggle.toggle-subcategory").children("i.icon-plus").trigger("click"):a.find(".js-toggle.toggle-subcategory").children("i.icon-minus").trigger("click"):i.find(":checked:not(:visible)").length&&i.find(".js-toggle.toggle-category").children("i.icon-plus").trigger("click"))})}(K),v("#productListUtilitiesBar").on("change","#sortBy",function(){ct().find(":hidden").filter('[name="sort_by"]').val(v(this).val()).trigger("change")}),function(i){var e=v(".pagination"),a="#pageNumber",n=v(this).val();e.on("change keyup",a,function(e){var t=v(this).val().replace(/\D/g,"");v(a).val(t),("change"===e.type||"keyup"===e.type&&13===e.keyCode)&&n!==t&&(i.find('[name="page"]').val(t).trigger("change"),n=t)}),e.on("click","a",function(e){var t=v(this).attr("href"),i=v.querystring(t).page;return ct().find(":hidden").filter('[name="page"]').val(i).trigger("change"),e.preventDefault(),He.Utils.ScrollTo.verticalScroll({target:"body"}),!1})}(K),v("#resultsPerPage").on("click","a",function(e){var t=v(this).text();return ct().find(":hidden").filter('[name="per_page"]').val(t).trigger("change"),e.preventDefault(),!1}),v(l).on("popstate",function(){xe("#columnFiltersForm",document.location.href),xe("#panelFiltersForm",document.location.href),mt(document.location.href)}),v("#columnFiltersForm").on("click",".js-toggle-all-filters",function(){xt(),be(!0),fe(),ke(),Pt()}),ee.on("click",function(e){e.preventDefault();var t=v(this).closest("form"),i=t.children(":not(.simple-category-navigation)").find("input").not("#panelFiltersSearch").not('[name="sort_by"]').not('[name="per_page"]'),a=v(this).hasClass("js-skip-pills-on-flush");i.closest(".feature").removeClass("filtered").find("label").removeClass("text-bold"),i.filter(":checked").removeAttr("checked"),i.filter(":text").val(""),i.first().trigger("change"),"columnFiltersForm"===t.attr("id")&&Y.find(".js-reset-all-filters").trigger("click"),a||(v(".pills-container").remove(),v("#columnFiltersContainer").find("[data-prev-value]").removeAttr("data-prev-value")),v(".js-toggle.toggle-category .icon-minus").click(),v(".js-toggle.toggle-subcategory .icon-minus").click(),Ce("check"),de()}),X.on("click",function(){fe()}),v(".feature .js-toggle").click(function(){var e=v(this),t=e.children(".fontello"),i=e.data("toggle-replace-text");if(t.toggleClass("icon-plus icon-minus"),i&&(e.data("toggle-replace-text",e.text()),e.find("span").text(i)),e.hasClass("toggle-category"))e.closest("ul").toggleClass("list-less list-more");else if(e.hasClass("toggle-subcategory")){var a=e.next("ul");a.toggleClass("list-more"),e.closest("ul").hasClass("list-categories")||ve(a)}}),Y.on("click",".js-toggle-filter-group",function(){var e=v(this),t=e.parent("h4").siblings(".js-columnizer, .filter-input-wrapper");e.toggleClass("icon-plus icon-minus"),t.toggleClass("hidden"),ke()}),l.localStorage.getItem("category.panelFiltersRedirection")&&(xt(),be(l.localStorage.getItem("category.subcategoryRedirection")),l.localStorage.removeItem("category.panelFiltersRedirection"),l.localStorage.removeItem("category.subcategoryRedirection")),Y.on("submit",function(e){return l.localStorage.setItem("category.panelFiltersRedirection",!0),l.location=ht(Y,!1),e.preventDefault(),!1}),Y.on("keyup change","#panelFiltersSearch",function(){var e=v(this),t=e.closest(".filter-group-container"),n=e.val().replace(/([()[{*+.$^\\|?])/g,"\\$1"),i=Y.find(".filter-group-container .feature"),a=v(".no-filter-results"),o=v(".filter-utilities-bottom"),r=v("#selectAllFilteredFeatures"),s=v(".clear-filter-filter");if(t.addClass("is-searched"),t.find(".is-visible, .hidden").not(".filter-utilities button").removeClass("is-visible hidden"),t.find("h4 i").not(".filter-utilities i").removeClass("icon-plus").addClass("icon-minus"),we(),""===n)return t.removeClass("is-searched"),a.addClass("hidden"),o.removeClass("hidden"),r.addClass("hidden"),s.addClass("hidden"),void ke();s.removeClass("hidden");var l=!1;i.each(function(){var e=v(this),t=e.find("label"),i=e.find("h4"),a=!1;-1<i.clone().find(".feature-value-quantity, .manufacturer-quantity").remove().end().text().search(new RegExp(n,"i"))&&(e.find(".feature-value-wrapper, li").addClass("is-visible").find(".subcategory").find("li").addClass("is-visible"),l=a=!0),t.each(function(){var e=v(this),t=-1<e.clone().find(".feature-value-quantity, .manufacturer-quantity").remove().end().text().search(new RegExp(n,"i")),i=-1<e.closest(".feature-value-wrapper").find("label:first").clone().find(".feature-value-quantity, .manufacturer-quantity").remove().end().text().search(new RegExp(n,"i"));(t||i)&&(e.closest("li").addClass("is-visible").closest(".feature-value-wrapper").addClass("is-visible"),l=a=!0)}),a&&e.addClass("is-visible")}),r.toggleClass("hidden",!l);var c=0<t.find(".is-visible").length;a.toggleClass("hidden",c),o.toggleClass("hidden",!c),ke(),t.find(".column").each(function(){var e=v(this);e.toggleClass("hidden",0===e.find("li:visible").length)})}),v(".js-filters-panel-toggle").on("click",function(){be(!1),ke(),He.Utils.ScrollTo.verticalScroll({target:"body"}),Pt()}),function(){var e={},t={},i={},a="",n="";v('.filter-group input[type="checkbox"]').each(function(){!0===(e=v(this)).is(":checked")&&!1===e.is(":visible")&&((t=e.closest(".list-less")).removeClass("list-less").addClass("list-more"),i=t.find(".js-toggle.toggle-category"),a=i.data("toggle-replace-text"),n=i.find("span").text(),i.find("span").text(a),i.data("toggle-replace-text",n),i.find("i").removeClass("icon-plus").addClass("icon-minus"))})}(),function(){var e=v("#pillsBox");e.on("click",".js-clear-all-pills",function(){ee.click()}),e.on("click",".pills-remove",function(e){var t=v(this).closest(".single-pill").attr("data-name"),i=v('[name="'+t+'"]');return i.is(":text")?i.val("").change():-1!==t.indexOf("manufacturers")||-1!==t.indexOf("][")?i.prop("checked",!1).change():-1===t.indexOf("][")&&v('[name*="'+t+'"]').not('[name*="[from]"], [name*="[to]"]').prop("checked",!1).change(),e.preventDefault(),!1})}(),Y.on("click",".js-select-all-filtered-features",function(e){var t=v(".filter-group:visible");"check"===v(this).attr("data-action")?(t.find("li.is-visible").find(":checkbox:visible").each(function(){var e=v(this);(e.closest("li").is(".childless")||e.closest("li").is(":not(.feature-value-wrapper)")||e.closest("ul").is(".list-manufacturers"))&&e.prop("checked",!0).change()}),Ce("uncheck"),t.addClass("filtered")):(t.find("li.is-visible").find(":checkbox:visible").each(function(){var e=v(this);(e.closest("li").is(".childless")||e.closest("li").is(":not(.feature-value-wrapper)")||e.closest("ul").is(".list-manufacturers"))&&e.prop("checked",!1).change()}),Ce("check"),t.find("li.is-visible").each(function(){v(this).closest(".feature").find(":checked:visible").length<=0&&v(".filter-group:visible").removeClass("filtered")})),e.preventDefault()}),v(".js-clear-filter-filter").on("click",function(){v("#panelFiltersSearch").val("").keyup()}),J=!1,K.find(".filter-group-container").find(":checkbox:checked:not(.parent-feature-value), :text").change(),J=!0,qe(),Y.on("click",".js-toggle-children",function(){var e=v(this),t=e.find("span").text(),i=30*e.closest("li").find(".more-filters").find("li").length;e.closest("li").find(".more-filters").slideToggle(i<100?100:400<i?400:i),e.find(".fontello").toggleClass("icon-minus").toggleClass("icon-plus"),e.find("span").text(e.data("toggle-replace-text")),e.data("toggle-replace-text",t)})}}),He.ViewSelectors={init:function(){v("#viewsSelector").on("click","li",function(e){var t=v(this);if(!t.hasClass("active")){var i=t.data("list-type");dataLayer.push({listType:i}),t.addClass("active").siblings().removeClass(),v("#productList").removeClass().addClass("product-list product-list-"+i),v.cookie("preferredProductsView",i,{expires:365,path:"/"})}return t.blur(),e.preventDefault(),!1})}},He.Request={storeLocation:function(e){var t=e||document.referrer;t&&t!==l.location.href&&(localStorage.referrer=t)},redirect:function(e){l.location.href=e||$t()},openWindow:function(e){l.open(e||$t())}},He.Utils={AnchorJump:{replaceDefaultFor:function(e){var t=location.hash;if(-1!==e.indexOf(t)){var i=v(t),a=v("#header");i.length&&a.length&&setTimeout(function(){He.Utils.ScrollTo.verticalScroll({target:t,margin:20})},50)}}},History:{push:function(e){if(-1===He.Navigator.userAgent().indexOf("Trident/5")){if(-1!==e.indexOf("@")&&e.indexOf("@")<e.indexOf(".")){var t=e.split("@");t.shift(),e=e.split("://")[0]+"://"+t.join("@")}He.History.pushState(null,"",e)}}},ScrollTo:{init:function(){v("body").on("click.scrollTo",".js-scroll-top",function(){He.Utils.ScrollTo.verticalScroll(JSON.parse(v(this).attr("data-scroll-options")))})},verticalScroll:function(e){var t=jQuery.extend({easing:"swing",duration:400,margin:0,target:"body",targetMobile:null},e),i=v(".header-wrapper"),a="fixed"===i.css("position")?parseInt(i.outerHeight()):0,n="fixed"===i.css("position")||null===t.targetMobile?v(t.target):v(t.targetMobile);if(0<n.length){var o=parseInt(n.offset().top),r=parseInt(n.css("margin-top"));v("html, body").animate({scrollTop:o-r-a-t.margin+"px"},t.duration,t.easing)}}},SelectReplacement:{replace:function(e,t){var i={maxHeight:300,buttonContainer:'<div class="btn-group selectable-container" />',buttonClass:"",buttonText:function(e){var t="-- wybierz --";return 1<e.length?t="Wybranych: "+e.length:1===e.length&&(t=v(e[0]).text()),t},templates:{li:"<li><a><label></label></a></li>",button:'<div class="selected-item multiselect" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <i class="caret"></i></div>'},onChange:function(){this.$select.is(".valid, .invalid")&&this.$select.valid()}};e.multiselect(v.extend(i,t||{}))},rebuild:function(e){e.multiselect("rebuild")}}},He.ProductQuantity={init:function(t){v(t).on("change",function(){He.ProductQuantity.visualUpdate(v(this))}),v(document).on("click",".js-quantity-increment",function(){var e=v(this).parent().find(t);He.ProductQuantity.quantityChange(e,1)}).on("click",".js-quantity-decrement",function(){var e=v(this).parent().find(t);He.ProductQuantity.quantityChange(e,-1)}).on("blur",t,function(){var e=v(this).parent().find(t);""!==e.val()&&0!==parseInt(e.val())||(e.val("1"),He.ProductQuantity.quantityChange(e,0))})},quantityChange:function(e,t){var i=v(e),a=parseInt(i.val())+t;1<=a&&a<=999&&(i.val(a),i.trigger("change")),a<=1?i.val(1):999<=a&&i.val(999),Me(e)},visualUpdate:Me=function(e){var t=v(e),i=t.siblings(".js-quantity-increment"),a=t.siblings(".js-quantity-decrement"),n="semi-transparent",o=parseInt(t.val());1<=o&&o<=999&&(a.removeClass(n),i.removeClass(n)),o<=1?a.addClass(n):999<=o&&i.addClass(n)}},He.RwdSwitch={init:function(){v(".js-rwd-toggle").on("click",function(e){e.preventDefault(),void 0!==v.cookie("rwd")&&"false"===v.cookie("rwd")?v.cookie("rwd",!0,{path:"/"}):v.cookie("rwd",!1,{path:"/"}),location.reload()})}},He.InstallmentCalculator=(je=ko,Ie=jQuery,{init:function(e,t,i){var a=new qt(e,t,i);return je.applyBindings(a,document.getElementById("installmentCalculator")),a}}),He.MobileAppInfo=(Te=v("body"),Ae="mobile-app-alert-active",ze="mobileAppDismiss",De="hidden",Oe=".mobile-app-alert",Fe=".js-mobile-app-install",Ne=null,Ee=function(){Te.on("click",".js-close-app-alert",function(){Re(7)}).on("click",Fe,function(){Re(365)})},_e=function(){var e=v(Fe),t=v(".download-from");e.attr("href",e.data(Ne)),t.text(t.data(Ne))},Le=function(){v("#mobileAppLink").removeClass(De)},{init:function(){null!==(Ne=Ue())&&0<v(Oe).length&&(void 0===v.cookie(ze)&&Be(),Le(),_e(),Ee())},showAlert:Be=function(){v(Oe).removeClass(De),Te.addClass(Ae)},hideAlert:Re=function(e){v.cookie(ze,!0,{path:"/",expires:e}),v(Oe).addClass(De),Te.removeClass(Ae)},determineVendor:Ue=function(){return a.windows.device?null:a.android.device?"android":a.apple.device?"ios":null}}),He.StickyWidget={setWidgetBoxPosition:function(e,t,i,a,n){var o=l.innerHeight-i.get(0).getBoundingClientRect().top+a;e.removeAttr("style"),function(e,t){var i=e.get(0).getBoundingClientRect(),a=t.get(0).getBoundingClientRect().bottom;i.top<=a&&e.css({bottom:l.innerHeight-a-i.height})}(e,t),function(e,t,i,a,n){l.innerWidth>e&&function(e,t,i){var a=e.get(0).getBoundingClientRect().bottom;return t.get(0).getBoundingClientRect().top<a+i}(i,a,t)&&i.css({bottom:n})}(n,a,e,i,o),l.innerWidth<n&&e.removeAttr("style")},bindEvents:function(e,t,i,a,n){v(l).on("resize scroll",function(){He.StickyWidget.setWidgetBoxPosition(e,t,i,a,n)})}},l.Hitman=He}(jQuery,window,Modernizr,isMobile,tinysort),window.addToNewwebStore=function(e){var t=window.newwebStore;t&&"function"==typeof t.dispatch&&t.dispatch({type:"oldweb/ADD_DATA",data:_objectSpread({},"object"===_typeof(e)?e:{})})},window.pushLastViewed=function(e){var t=window.newwebStore;if(t&&"function"==typeof t.dispatch){t.dispatch(getProductSuccess(e.map(function(e){return _objectSpread({},e,{photo:{url:e.photo}})})));var i=e.map(function(e){return{type:ProductExtenderType.Base,id:e.id.toString()}});t.dispatch(setProductsList(DefaultProductList.LastViewsProducts,i))}},window.pushInComparison=function(e){var t=window.newwebStore;if(t&&"function"==typeof t.dispatch){var i=e.map(function(e){return{type:ProductExtenderType.Base,id:e.id.toString()}});t.dispatch(setProductsList(DefaultProductList.ComparisonList,i))}},function(e){e.GetProductsByCategoryRequest="products/GET_PRODUCTS_BY_CATEGORY_REQUEST",e.GetProductsByCategorySuccess="products/GET_PRODUCTS_BY_CATEGORY_SUCCESS",e.GetProductsByCategoryFail="products/GET_PRODUCTS_BY_CATEGORY_FAIL",e.GetProductRequest="products/GET_PRODUCT_REQUEST",e.GetProductSuccess="products/GET_PRODUCT_SUCCESS",e.GetProductFail="products/GET_PRODUCT_FAIL",e.CheckBringingServiceRequest="products/CHECK_BRINGING_SERVICE_REQUEST",e.CheckBringingServiceSuccess="products/CHECK_BRINGING_SERVICE_SUCCESS",e.CheckBringingServiceFail="products/CHECK_BRINGING_SERVICE_FAIL",e.SetProductsList="products/SET_PRODUCTS_LIST",e.ToggleCompare="products/TOGGLE_COMPARE"}(ProductsActionType=ProductsActionType||{}),function(e){e.SubstituteProducts="substituteProducts",e.ComplementaryProducts="complementaryProducts",e.LastViewsProducts="lastViewsProducts",e.ComparisonList="comparisonList",e.ListingContainer="listingContainer"}(DefaultProductList=DefaultProductList||{}),function(e){e.Base="Base",e.Basket="Basket"}(ProductExtenderType=ProductExtenderType||{});var getProductSuccess=function(e){return{type:ProductsActionType.GetProductSuccess,products:e}},setProductsList=function(e,t){return{type:ProductsActionType.SetProductsList,targetListKey:e,targetList:t}},DeliveryMethod=function(e){"use strict";this.id=e.id,this.name=e.name,this.label=e.label,this.tooltip=e.tooltip,this.information=e.information,this.icon=e.icon,this.cost=e.cost},PaymentMethod=function(e){"use strict";this.id=e.id,this.name=e.name,this.label=e.label,this.tooltip=e.tooltip,this.information=e.information,this.icon=e.icon,this.cost=e.cost},AdditionalServicesLabelMapElement=function(e){"use strict";this.serviceName=e.serviceName,this.serviceLabel=e.serviceLabel},Consent=function(e){"use strict";this.id=e.Id,this.consentId=e.ConsentId,this.consentCode=e.ConsentCode,this.consentName=e.ConsentName,this.consentContent=e.ConsentContent,this.contextId=e.ContextId,this.contextCode=e.ContextCode,this.contextName=e.ContextName,this.validateAllRequired=e.ValidateAllRequired,this.required=e.Required,this.displayOrder=e.DisplayOrder,this.shopId=e.ShopId,this.collectionId=e.CollectionId,this.collectionCode=e.CollectionCode,this.consentVersionId=e.ConsentVersionId,this.consentExtendedContent=e.ConsentExtendedContent,this.consentFullContent=function(){return"regulations"===this.consentCode&&"undefined"!=typeof _config&&(this.consentContent=this.consentContent.replace(/\s(regulamin)\s/," <a href="+_config.linkToRegulations+' target="_blank">regulamin</a> ')),this.consentExtendedContent?this.consentContent+' <a href="#" class="js-privacy-more-link">rozwiń »</a><p class="privacy-more-content">'+this.consentExtendedContent+"</p>":this.consentContent},this.requiredBool=function(){if(this.required)return"required"},this.isChecked=function(){if("e_invoice"===this.consentCode)return"checked"},this.customValidatorMsg=function(){if("regulations"===this.consentCode)return{required:"Zaakceptuj regulamin."}}};ko.bindingHandlers.validatorMessages={init:function(e,t){"use strict";if("function"==typeof t){var i=t();if("object"==typeof i||void 0===i){for(var a in i)if(i.hasOwnProperty(a)){var n=i[a];$(e).attr("data-msg-"+a,n)}}else console.error("parameter passed to validatorMsg must return an object")}else console.error("parameter passed to validatorMsg must be a function")}};var AdditionalService=function(e){"use strict";this.id=ko.observable(e.id),this.groupId=ko.observable(e.groupId),this.name=ko.observable(e.name),this.label=ko.observable(e.label),this.tooltip=ko.observable(e.tooltip),this.cost=ko.observable(e.cost),this.costRaw=ko.observable(e.costRaw),this.icon=ko.observable(e.icon),this.selected=ko.observable(e.selected)},InpostPackstation=function(e){"use strict";e=e||{},this.code=e.code||ko.observable(e.code||""),this.street=ko.observable(e.street||""),this.building_number=ko.observable(e.building_number||""),this.city=ko.observable(e.city||""),this.postcode=ko.observable(e.postcode||""),this.location_description=ko.observable(e.location_description||""),this.longitude=e.longitude,this.latitude=e.latitude,this.text=this.street()+" "+this.building_number()+", "+this.location_description(),this.fullAddress=function(){return this.street()+" "+this.building_number()+"<br>"+this.postcode()+" "+this.city()+"<br>"}};function CheckoutViewModel(){"use strict";var r=this,e="/zamowienie/",i="/inpost/",a=51.808615,n=20.258789,o=6,s=16;this.deliveryMethod=ko.observable(),this.chosenAdditionalServices=ko.observableArray(),this.consents=ko.observableArray(),this.deliveryMethodEntity=function(){return r.getDeliveryMethodById(r.deliveryMethod())},this.paymentMethod=ko.observable(),this.paymentMethodEntity=function(){return r.getPaymentMethodById(r.paymentMethod())},this.arriveType=ko.observable(),this.netValue=ko.observable(),this.tax=ko.observable(),this.grossValue=ko.observable(),this.shippingCost=ko.observable(),this.paymentCost=ko.observable(),this.additionalServicesCost=ko.observable(),this.additionalServicesLabelMap=ko.observableArray(),this.overallValue=ko.observable(),this.invertedTaxInformation=ko.observable(),this.splitPayment=ko.observable(),this.deliveryMethods=ko.observableArray(),this.paymentMethods=ko.observableArray(),this.additionalServices=ko.observableArray(),this.promotions=ko.observableArray(),this.promotionalShipment=ko.observable(),this.isFormReady=!1,this.inpostData={provinces:[{province:"dolnośląskie",province_safe_name:"dolnoslaskie"},{province:"kujawsko-pomorskie",province_safe_name:"kujawsko-pomorskie"},{province:"lubelskie",province_safe_name:"lubelskie"},{province:"lubuskie",province_safe_name:"lubuskie"},{province:"łódzkie",province_safe_name:"lodzkie"},{province:"małopolskie",province_safe_name:"malopolskie"},{province:"mazowieckie",province_safe_name:"mazowieckie"},{province:"opolskie",province_safe_name:"opolskie"},{province:"podlaskie",province_safe_name:"podlaskie"},{province:"podkarpackie",province_safe_name:"podkarpackie"},{province:"pomorskie",province_safe_name:"pomorskie"},{province:"śląskie",province_safe_name:"slaskie"},{province:"świętokrzyskie",province_safe_name:"swietokrzyskie"},{province:"warmińsko-mazurskie",province_safe_name:"warminsko-mazurskie"},{province:"wielkopolskie",province_safe_name:"wielkopolskie"},{province:"zachodniopomorskie",province_safe_name:"zachodniopomorskie"}],province:ko.observable(),city:ko.observable(),cities:ko.observableArray(),packstation:new InpostPackstation,packstations:ko.observableArray()},this.storeName=ko.observable(),this.storeAddress=ko.observable(),this.customerFirstName=ko.observable(),this.customerLastName=ko.observable(),this.customerStreet=ko.observable(),this.customerPostcode=ko.observable(),this.customerCity=ko.observable(),this.customerPhone=ko.observable(),this.shipmentName=ko.observable(),this.shipmentStreet=ko.observable(),this.shipmentPostcode=ko.observable(),this.shipmentCity=ko.observable(),this.shipmentPhone=ko.observable(),this.invoiceName=ko.observable(),this.invoiceStreet=ko.observable(),this.invoicePostcode=ko.observable(),this.invoiceCity=ko.observable(),this.invoiceNip=ko.observable(),this.additionalNotes=ko.observable(),this.switchers={storeDepartment:ko.observable(),otherShipmentAddress:ko.observable(),otherInvoiceData:ko.observable(),additionalNotes:ko.observable()},this.toggles={ceneo_poll:ko.observable(),isInstalmentFirstPay:ko.observable()},this.saveCheckoutFormData=new SaveCheckoutFormData,this.paymentInformation=ko.observable(null),this.deliveryInformation=ko.observable(null),this.chosenAdditionalServicesSemaphor=!1,this.initCheckoutFormDataSaveEvents=function(){$("#checkoutForm").on("keyup change select","input:not(.js-dont-save)",'input:not([name="additionalServices[]"], [name="termsOfUseAcceptation"], [name="customerPostcode"], [name="shipmentPostcode"], [name="privacyPolicyAcceptation"], [name="deliveryMethod"], [name="paymentMethod"]), select, textarea',function(){r.saveCheckoutFormData.initTimer()})},this.run=function(t){$.ajax({type:"POST",url:e+"resolve-options",dataType:"json",data:{deliveryMethod:t.deliveryMethod,paymentMethod:t.paymentMethod,inpost:t.inpost,deliveryPostcode:t.deliveryPostcode,chosenAdditionalServices:t.additionalServices},success:function(e){$(".radio-buttons-container").removeClass("hidden"),r.initialize(e),r.restoreDeliveryAndPaymentMethod(t.deliveryMethod,t.paymentMethod)&&(r.attachSubscribes(),ko.applyBindings(r),r.updateInstallmentCalculatorValues(),r.initCheckoutFormDataSaveEvents(),r.restoreChosenAdditionalServices(t.additionalServices),r.applyCorrectOnAdditionalServices(e.additionalServicesCorrect,!0)),setTimeout(function(){r.paymentInformation($("#paymentMethod"+t.paymentMethod).attr("data-information")||null),r.deliveryInformation($("#deliveryMethod"+t.deliveryMethod).attr("data-information")||null)},0),r.isFormReady=!0,Hitman.StickyWidget.setWidgetBoxPosition($(".checkout-summary-wrapper"),$(".header-wrapper"),$(".footer-copyrights"),28,1198)}}),$("#inpostMap").goMap({maptype:"ROADMAP",latitude:a,longitude:n,zoom:o,icon:"/assets/img/common/checkout/inpost-marker.png"}),google.maps.event.trigger($.goMap.map,"resize")},this.restoreChosenAdditionalServices=function(e){r.chosenAdditionalServicesSemaphor=!0,r.chosenAdditionalServices.removeAll(),null!==e&&$.each(e,function(e,t){r.chosenAdditionalServices.push(t)}),r.chosenAdditionalServicesSemaphor=!1},this.applyCorrectOnAdditionalServices=function(i,a){if(r.chosenAdditionalServicesSemaphor=!0,i.length){var n=[],o=!1;a=a||!1,$.each(r.chosenAdditionalServices.reverse(),function(e,t){n.push(t)}),$.each(n,function(e,t){-1<i.indexOf(t)&&(a||1<r.chosenAdditionalServices().filter(function(e){return i.includes(e)}).length)&&(r.chosenAdditionalServices.remove(t),o=!0)}),a&&o?r.saveCheckoutFormData.updateFormDataNow(function(){r.update()}):o&&r.update()}r.chosenAdditionalServicesSemaphor=!1},this.initialize=function(e){r.fillDeliveryMethods(e.deliveryMethods),r.fillPaymentMethods(e.paymentMethods),r.fillAdditionalServices(e.additionalServices),r.fillAdditionalServicesLabelMap(e.additionalServicesLabelMap),r.fillConsents(e.consents),e.inpostData&&r.fillInpostData(e.inpostData),ko.mapping.fromJS(e.basket,{},r)},this.fillAdditionalServicesLabelMap=function(e){r.additionalServicesLabelMap.removeAll(),$.each(e,function(e,t){r.additionalServicesLabelMap.push(new AdditionalServicesLabelMapElement(t))})},this.updateInstallmentCalculatorValues=function(){window.InstallmentCalculator&&window.InstallmentCalculator.overallAmount(r.overallValue())},this.update=function(t){r.paymentInformation($("#paymentMethod"+r.paymentMethod()).attr("data-information")||null),r.deliveryInformation($("#deliveryMethod"+r.deliveryMethod()).attr("data-information")||null),r.saveCheckoutFormData.updateFormDataNow(function(){$.ajax({type:"POST",url:e+"resolve-options",data:{deliveryMethod:r.deliveryMethod(),paymentMethod:r.paymentMethod(),chosenAdditionalServices:r.chosenAdditionalServices(),deliveryPostcode:r.switchers.otherShipmentAddress()?r.shipmentPostcode():r.customerPostcode()},dataType:"json",success:function(e){"function"==typeof t&&t(),ko.mapping.fromJS(e.basket,{ignore:["paymentMethod","deliveryMethod"]},r),r.fillDeliveryMethods(e.deliveryMethods),r.fillPaymentMethods(e.paymentMethods),r.fillAdditionalServices(e.additionalServices),r.fillAdditionalServicesLabelMap(e.additionalServicesLabelMap),r.fillConsents(e.consents),r.reloadPackstations(),r.applyCorrectOnAdditionalServices(e.additionalServicesCorrect),setTimeout(function(){r.paymentInformation($("#paymentMethod"+r.paymentMethod()).attr("data-information")||null),r.deliveryInformation($("#deliveryMethod"+r.deliveryMethod()).attr("data-information")||null)},0),0<parseInt(r.deliveryMethod())&&!r.isDeliveryMethodExists(r.deliveryMethod())?(r.deliveryMethod(null),r.paymentMethod(null),r.chosenAdditionalServices.removeAll()):0<parseInt(r.paymentMethod())&&!r.paymentMethodExist(r.paymentMethod())&&r.paymentMethod(null)}})})},this.scrollToSecondStep=function(){parseInt(r.deliveryMethod())===r.d("shipment-inpost-letter")?Hitman.Utils.ScrollTo.verticalScroll({target:".delivery-information",margin:5}):Hitman.Utils.ScrollTo.verticalScroll({target:".checkout-step:eq(1)",margin:5}),$(".google-map-wrapper").closest(".row").is(":visible")&&r.centerGoogleMap()},this.centerGoogleMap=function(){var e=$.goMap.map.getCenter();google.maps.event.trigger($.goMap.map,"resize"),$.goMap.map.setCenter(e)},this.scrollToThirdStep=function(){var e=parseInt(r.paymentMethod());e===r.p("payment-installment-credit-agricole")||e===r.p("payment-installment-santander")?Hitman.Utils.ScrollTo.verticalScroll({target:".installment-settings",margin:5}):e===r.p("payment-prepayment")||e===r.p("payment-paypal")||e===r.p("payment-card")||e===r.p("payment-card-inpost")||e===r.p("payment-dotpay")?Hitman.Utils.ScrollTo.verticalScroll({target:".payment-information",margin:5}):!0===r.promotionalShipment?Hitman.Utils.ScrollTo.verticalScroll({target:".js-promotional-shipment",margin:5}):Hitman.Utils.ScrollTo.verticalScroll({target:".checkout-step:eq(2)",margin:5}),r.centerGoogleMap()},this.attachSubscribes=function(){r.deliveryMethod.subscribe(function(e){r.isFormReady&&(r.deliveryMethodEntity(r.getDeliveryMethodById(e)),r.update(r.scrollToSecondStep))}),r.paymentMethod.subscribe(function(e){r.isFormReady&&(r.inpostData.packstation.code(void 0),r.paymentMethodEntity(r.getPaymentMethodById(e)),r.update(r.scrollToThirdStep))}),r.overallValue.subscribe(function(){r.isFormReady&&r.updateInstallmentCalculatorValues(r.overallValue())}),r.customerPostcode.subscribe(function(){r.isFormReady&&3==r.deliveryMethod()&&!r.switchers.otherShipmentAddress()&&r.saveCheckoutFormData.updateFormDataNow(function(){r.update()})}),r.switchers.otherShipmentAddress.subscribe(function(){r.isFormReady&&3==r.deliveryMethod()&&r.update()}),r.shipmentPostcode.subscribe(function(){r.isFormReady&&3==r.deliveryMethod()&&r.switchers.otherShipmentAddress()&&r.saveCheckoutFormData.updateFormDataNow(function(){r.update()})}),r.chosenAdditionalServices.subscribe(function(){r.isFormReady&&!r.chosenAdditionalServicesSemaphor&&(r.correctMultipleSelectedServicesOfOneType(),r.update())}),r.inpostData.province.subscribe(function(e){r.inpostData.city(void 0),void 0!==e?r.getCities(e):(r.inpostData.packstation.code(void 0),r.inpostData.cities.removeAll())}),r.inpostData.city.subscribe(function(e){r.inpostData.packstation.code(void 0),void 0!==e?r.getPackstations(e):r.inpostData.packstations.removeAll()}),r.inpostData.packstation.code.subscribe(function(e){void 0!==e&&r.choosePackstation(e)}),r.switchers.storeDepartment.subscribe(function(e){var t=$(".department-info").filter('[data-id="'+e+'"]').find(".department-info-address").html(),i=$("#storeDepartment").find("option:selected").text();r.storeAddress(t),r.storeName(i)})},this.correctMultipleSelectedServicesOfOneType=function(){var a=[],n=[];r.chosenAdditionalServicesSemaphor=!0,$.each(r.chosenAdditionalServices.reverse(),function(e,t){var i=r.getAdditionalServiceLabelByName(t);-1===n.indexOf(i)&&(n.push(i),a.push(t))}),r.chosenAdditionalServices.removeAll(),$.each(a,function(e,t){r.chosenAdditionalServices.push(t)}),r.chosenAdditionalServicesSemaphor=!1},this.getAdditionalServiceLabelByName=function(i){var a="";return $.each(r.additionalServicesLabelMap(),function(e,t){t.serviceName===i&&(a=t.serviceLabel)}),a},this.fillDeliveryMethods=function(e){r.deliveryMethods.removeAll(),$.each(e,function(e,t){r.deliveryMethods.push(new DeliveryMethod(t))})},this.fillConsents=function(e){r.consents.removeAll(),$.each(e,function(e,t){r.consents.push(new Consent(t))})},this.fillPaymentMethods=function(e){r.paymentMethods.removeAll(),$.each(e,function(e,t){r.paymentMethods.push(new PaymentMethod(t))})},this.fillAdditionalServices=function(e){r.additionalServices.removeAll(),$.each(e,function(e,t){r.additionalServices.push(new AdditionalService(t))})},this.fillInpostData=function(e){r.inpostData.cities(e.cities),r.inpostData.packstations.removeAll();var i=r.inpostData.packstations();$.each(e.packstations,function(e,t){i.push(new InpostPackstation(t))}),r.inpostData.province(e.province),r.inpostData.city(e.city),r.choosePackstation(e.code)},this.reloadPackstations=function(){r.deliveryMethod()&&r.paymentMethod()&&parseInt(r.deliveryMethod())===r.resolveDelivery("shipment-inpost")&&(void 0!==r.inpostData.province()&&r.getCities(r.inpostData.province()),void 0!==r.inpostData.city()&&r.getPackstations(r.inpostData.city()))},this.resolvePayment=this.p=function(e){return parseInt(r.resolveProperty(r.paymentMethods(),"name",e,"id"))},this.resolveDelivery=this.d=function(e){return parseInt(r.resolveProperty(r.deliveryMethods(),"name",e,"id"))},this.resolveAdditionalService=this.as=function(e){return r.resolveProperty(r.additionalServices(),"name",e,"label")},this.resolveProperty=function(e,t,i,a){var n=$.grep(e,function(e){return e[t]===i});return 0===n.length?"":a?n[0][a]:n[0]},this.getCities=function(e){var t=void 0===r.paymentMethod()?0:r.paymentMethod();$.ajax({type:"POST",data:{paymentMethod:t},dataType:"json",url:i+"fetch-cities/"+e,success:function(e){r.inpostData.cities(e)}})},this.getPackstations=function(e){var t=void 0===r.paymentMethod()?0:r.paymentMethod();$.ajax({type:"POST",data:{paymentMethod:t},url:i+"fetch-packstations/"+e,dataType:"json",success:function(e){r.inpostData.packstations.removeAll();var i=r.inpostData.packstations();$.each(e,function(e,t){i.push(new InpostPackstation(t))}),r.inpostData.packstations.valueHasMutated()}})},this.choosePackstation=function(e){var t=r.resolveProperty(r.inpostData.packstations(),"code",e);ko.mapping.fromJS(t,{},r.inpostData.packstation),$.goMap.clearMarkers(),$.goMap.createMarker({latitude:t.latitude,longitude:t.longitude}),$.goMap.setMap({latitude:r.inpostData.packstation.latitude(),longitude:r.inpostData.packstation.longitude(),zoom:s}),google.maps.event.addListenerOnce($.goMap.map,"idle",function(){r.centerGoogleMap()})},this.getDeliveryMethodById=function(e){for(var t=parseInt(e,10),i=0;i<r.deliveryMethods().length;i++)if(r.deliveryMethods()[i].id===t)return r.deliveryMethods()[i];return{}},this.getPaymentMethodById=function(e){for(var t=parseInt(e,10),i=0;i<r.paymentMethods().length;i++)if(r.paymentMethods()[i].id===t)return r.paymentMethods()[i];return{}},this.restoreDeliveryAndPaymentMethod=function(e,t){if(e&&r.isDeliveryMethodExists(e)){var i=r.getDeliveryMethodById(e),a=r.getPaymentMethodById(t);r.deliveryMethodEntity(i),r.paymentMethodEntity(a),r.deliveryMethod(i.id),r.paymentMethod(a.id)}else r.deliveryMethod(null),r.paymentMethod(null);return!0},this.paymentMethodExist=function(){var i=parseInt(r.paymentMethod()),a=!1;return $.each(r.paymentMethods(),function(e,t){parseInt(t.id)===parseInt(i)&&(a=!0)}),a},this.isDeliveryMethodExists=function(i){var a=!1;return $.each(r.deliveryMethods(),function(e,t){parseInt(t.id)===parseInt(i)&&(a=!0)}),a}}function SaveCheckoutFormData(){"use strict";var i=this;i.isBlocked=!1,i.isQueued=!1,i.formDataUpdateTimer=null,this.serializeForm=function(){return $("#checkoutForm").find(":visible[name!=arriveType], select, input[name=shipmentName]").serialize()},this.initTimer=function(){var e=i.serializeForm();null!==i.formDataUpdateTimer&&(clearTimeout(i.formDataUpdateTimer),i.formDataUpdateTimer=null),i.formDataUpdateTimer=setTimeout(function(){e!==localStorage.getItem("oldSerializedForm")&&(localStorage.setItem("oldSerializedForm",e),i.updateFormData(e))},1e3)},this.updateFormDataNow=function(e){setTimeout(function(){i.updateFormData(i.serializeForm(),e)},0)},this.updateFormData=function(e,t){_config.checkout.isSaveAndLoadFormDataDisabled?"function"==typeof t&&t():i.isBlocked?i.isQueued=!0:(i.isBlocked=!0,$.ajax({url:"save-form-data",type:"POST",dataType:"JSON",data:e}).always(function(){!(i.isBlocked=!1)===i.isQueued&&i.initTimer(),i.isQueued=!1,"function"==typeof t&&t()}))}}var ExtendedEcommerce=function(){"use strict";this.eecCurrencyCode="PLN",this.captureProductsData=function(e,i){var a,n=[],o=[];return $("."+e+"[data-product-id]").each(function(){var e=$(this),t={id:e.data("product-id")};e.data("product-name")&&(t.name=e.data("product-name")),e.data("product-price")&&(t.price=e.data("product-price")),e.data("product-brand")&&(t.brand=e.data("product-brand")),e.data("product-category")&&(t.category=e.data("product-category")),e.data("product-category-id")&&(t.categoryId=e.data("product-category-id")),i&&(a=void 0!==e.closest("[data-products-list-name]")?e.closest("[data-products-list-name]").data("products-list-name"):void 0,void 0===o[a]&&(o[a]=0),void 0!==a&&(t.list=a),t.position=++o[a],e.data("position",t.position)),n.push(t)}),n},this.captureBasketItems=function(){var e=[];return $("#basketItemsForm").length&&(e=this.captureProductsData("basket-item",!1),$.each(e,function(e,t){var i=$(".basket-item[data-product-id="+t.id+"]").children(".count-wrapper");t.quantity=i.find("input").val()})),e},this.getImpressions=function(){return this.captureProductsData("product-impression",!0)},this.getProductsDetails=function(){return this.captureProductsData("product-detail-impression",!1)},this.pushImpressions=function(){var e=this.getImpressions();0<Object.keys(e).length&&"undefined"!=typeof dataLayer&&dataLayer.push({ecommerce:{currencyCode:this.eecCurrencyCode,impressions:e}})},this.pushProductDetails=function(){var e=this.getProductsDetails();0<Object.keys(e).length&&"undefined"!=typeof dataLayer&&dataLayer.push({ecommerce:{detail:{products:e}}})},this.capturePromoImagesFromMenu=function(){var t=[];return $(".container-navigation .promo-image > a").each(function(){var e=$(this);t.push({name:e.attr("title"),creative:"navigation",position:e.closest("li").data("group-position")})}),t},this.capturePromoImagesFromSlider=function(){var t=[];return $(".banner-zone .slide > a").each(function(){var e=$(this);t.push({name:e.parent().data("title"),creative:e.parent().data("banner-creative"),position:e.parent().data("banner-position")})}),t},this.pushPromoImages=function(){var e=this.capturePromoImagesFromMenu().concat(this.capturePromoImagesFromSlider());0<Object.keys(e).length&&"undefined"!=typeof dataLayer&&dataLayer.push({ecommerce:{promoView:{promotions:e}}})},this.pushClickOnProduct=function(e){"undefined"!==dataLayer&&dataLayer.push({event:"productClick",ecommerce:{currencyCode:this.eecCurrencyCode,click:{actionField:e.listName?{list:e.listName}:{},products:[{name:e.productName,id:e.productId,price:e.productPrice,brand:e.productBrand,category:e.productCategory,position:e.position}]}}})},this.pushAddingToBasket=function(e){"undefined"!==dataLayer&&dataLayer.push({event:"addToCart",ecommerce:{currencyCode:this.eecCurrencyCode,add:{products:[e]}}})},this.pushRemoveFromBasket=function(e){"undefined"!==dataLayer&&dataLayer.push({event:"removeFromCart",ecommerce:{remove:{products:[e]}}})},this.pushPromoClick=function(e){"undefined"!==dataLayer&&dataLayer.push({event:"promotionClick",ecommerce:{promoClick:{promotions:[{name:e.name,creative:e.creative,position:e.position}]}},eventCallback:function(){document.location=e.url}})},this.pushPurchaseDetails=function(e,t){"undefined"!==dataLayer&&dataLayer.push({ecommerce:{purchase:{actionField:e,products:t}}})},this.pushCheckoutStepFirst=function(e,t){if("undefined"!==dataLayer){var i={step:1},a=this.captureBasketItems();$("#basketInsurance .checkbox input").prop("checked")&&(i.option="insurance"),dataLayer.push({event:"checkout",ecommerce:{checkout:{actionField:i,products:a}},eventCallback:function(){t&&dataLayer.push({event:"checkoutOption",ecommerce:{checkout_option:{actionField:{step:2,option:"logged_in"}}}}),document.location=e}})}},this.pushCheckoutOption=function(e,t){"undefined"!==dataLayer&&dataLayer.push({event:"checkoutOption",ecommerce:{checkout_option:{actionField:{step:e,option:t}}}})},this.countBasketItems=function(){var e={};return $("#basketItems .basket-item .count-wrapper input").each(function(){e[$(this).closest("[data-product-id]").data("product-id")]=parseInt($(this).val(),10)}),e}},SyneriseEcommerce=function(){var n=function(e){var t=[];return e.forEach(function(e){t.push({sku:e.id,quantity:e.quantity,brand:e.brand,category:e.category})}),t},o=function(e,t,i){var a=0;return e.forEach(function(e){a+=i?parseFloat(e[t])*parseFloat(e[i]):parseFloat(e[t])}),a};return{pushCartStatus:function(){var e=(new ExtendedEcommerce).captureBasketItems(),t=n(e),i=o(e,"quantity"),a=o(e,"price","quantity");"undefined"!=typeof SR?SR.event.trackCustomEvent("cart.status",{products:t,totalAmount:a,totalQuantity:i},"CartStatus"):console.log("SR is not available.")}}}();function setDeliveryForSelectedTimePeriod(e){var a=$("#basketOverlay");$(a).removeClass("hidden"),$.ajax({url:"/koszyk/update-delivery-for-selected-time-period",method:"POST",dataType:"html",data:{deliveryForSelectedTimePeriod:$(e).is(":checked")?1:0},success:function(e){window.location.reload()},error:function(e,t,i){$(a).addClass("hidden"),toastr.error("Nie udało się zapisać zmiany w koszyku.")}})}$(function(){"use strict";var n=new ExtendedEcommerce,o=n.countBasketItems();(window.oldweb_eCommerce=n).pushImpressions(),n.pushProductDetails(),$(".container-navigation .promo-image > a").click(function(){var e=$(this);n.pushPromoClick({name:e.attr("title"),creative:"navigation",position:e.closest("li").data("group-position"),url:e.attr("href")})}),$(".banner-zone .slide > a").click(function(){var e=$(this);n.pushPromoClick({name:e.parent().data("title"),creative:e.parent().data("banner-creative"),position:e.parent().data("banner-position"),url:e.attr("href")})}),$(document).delegate(".product-item a","click",function(){var e=$(this),t=e.closest(".product-item").data();t.listName=e.closest("[data-products-list-name]").data("products-list-name"),n.pushClickOnProduct(t)}),$("body").on("click",".js-add-to-cart-product",function(){var e=$(".product-detail-impression"),t={name:e.data("product-name"),id:e.data("product-id"),price:e.data("product-price"),brand:e.data("product-brand"),category:e.data("product-category"),categoryId:e.data("product-category-id"),quantity:parseInt($("#productQuantityInput").val(),10)};n.pushAddingToBasket(t)}),$("body").on("click",".js-add-to-cart",function(){var e=$(this).closest(".product-impression"),t={name:e.data("product-name"),id:e.data("product-id"),price:e.data("product-price"),brand:e.data("product-brand"),category:e.data("product-category"),categoryId:e.data("product-category-id"),quantity:1,photo:e.find(".image img").attr("src"),url:window.location.host+e.find("a.name").attr("href")};n.pushAddingToBasket(t)}),$("#basketItemsForm").delegate(".remove-product","click",function(){var e=$(this).closest(".basket-item"),t={name:e.data("product-name"),id:e.data("product-id"),price:e.data("product-price"),brand:e.data("product-brand"),category:e.data("product-category"),quantity:parseInt(e.find(".count-wrapper input.input-rounded").val(),10)};n.pushRemoveFromBasket(t)}),$("#basketItemsWrapper").delegate("[data-item-operation]","click",function(){var e=$(this),t=e.closest(".basket-item"),i={name:t.data("product-name"),id:t.data("product-id"),price:t.data("product-price"),brand:t.data("product-brand"),category:t.data("product-category"),quantity:1};"decrease"===e.data("item-operation")?(n.pushRemoveFromBasket(i),o[i.id]=o[i.id]-1):(n.pushAddingToBasket(i),o[i.id]=o[i.id]+1)}),$("#basketItemsWrapper").delegate("#basketItems .basket-item .count-wrapper input","change",function(){var e=$(this).closest("[data-product-id]"),t=parseInt($(this).val(),10),i=t-o[e.data("product-id")];o[e.data("product-id")]=t;var a={name:e.data("product-name"),id:e.data("product-id"),price:e.data("product-price"),brand:e.data("product-brand"),category:e.data("product-category"),quantity:0<i?i:-1*i};0<i?n.pushAddingToBasket(a):i<1&&n.pushRemoveFromBasket(a)}),$("#basketEmpty").delegate(".js-restore-button","click",function(){var e=JSON.stringify($(this).data("restore-products"));$(JSON.parse(e)).each(function(){n.pushAddingToBasket(this)})}),$("#goToCheckout").click(function(e){ga.loaded&&(e.preventDefault(),n.pushCheckoutStepFirst($(this).attr("href"),!$(this).hasClass("guest-nextstep-button")))}),$(".checkout-login-page").length&&($(".checkout-login-page .checkout-continue-login").click(function(){n.pushCheckoutOption(2,"login")}),$(".checkout-login-page .checkout-continue-asguest").click(function(){n.pushCheckoutOption(2,"as guest")}),$(".checkout-login-page .checkout-continue-createaccount").click(function(){n.pushCheckoutOption(2,"create account")})),$("#checkoutForm").delegate("ul.tiles input","click",function(){var e=$(this).parent("label"),t=e.children("input").attr("name")+": "+e.children(".title").text();n.pushCheckoutOption(3,t)}),$("#checkoutForm").delegate("input:checkbox","click",function(){var e=$(this),t=e.prop("checked")?"Set: "+e.attr("name"):"Unset: "+e.attr("name");n.pushCheckoutOption(3,t)}),$("#summaryViewSection").delegate(".js-go-back-to-checkout, .go-back-to-basket","click",function(){n.pushCheckoutOption(4,$(this).hasClass("js-go-back-to-checkout")?"back to delivery/payment":"back to basket")}),$(".checkout-summary-wrapper").delegate("#buyButton","click",function(){n.pushCheckoutOption(4,"confirm")})}),$(function(){"use strict";$.fn.tooltipster("setDefaults",{trigger:"hover",position:"top",onlyOne:!1,positionTracker:!0,positionTrackerCallback:function(){this.option("autoClose")&&this.hide()}});var e={firstName:{required:"Podaj imię."},lastName:{required:"Podaj nazwisko."},email:{required:"Podaj adres e-mail.",isInvalid:"Podaj prawidłowy adres e-mail.",isTaken:"Założono już konto dla tego adresu e-mail. Skorzystaj z opcji ‘Nie pamiętam loginu, adresu e-mail lub hasła’, którą znajdziesz w zakładce logowania."},password:{required:"Podaj hasło.",minlength:$.validator.format("Hasło powinno mieć minimum {0} znaków."),maxlength:$.validator.format("Hasło powinno mieć maksimum {0} znaków.")},termsOfUseAcceptation:{required:"Zaakceptuj regulamin."},privacyPolicyAcceptation:{required:"Wyraź zgodę."},esdAcceptation:{required:"Wyraź zgodę."},phoneNumber:{required:"Podaj numer telefonu.",exactlength:$.validator.format("Numer telefonu powinien mieć {0} cyfr.")},shipmentName:{required:"Podaj imię i nazwisko lub nazwę firmy."},shipmentCity:{required:"Podaj miejscowość."},shipmentStreet:{required:"Podaj adres."},questionGroup:{required:"Wybierz kategorię wiadomości."},questionTopic:{required:"Wybierz temat pytania."},question:{required:"Wpisz treść swojego pytania."}};$.extend($.validator,{markElement:function(e,t){var i=$(e);if(!isMobile.any&&!i.is("select, :checkbox, :radio, :hidden, .js-validate-without-mark")&&"hidden"!==i.css("visibility")){if(i.closest("div").removeClass("valid invalid"),!i.closest("div").hasClass("marked")){if(i.is(":focus"))return i.data("was-focused",!0),void i.blur();i.wrap($('<div class="marked"/>')),i.data("was-focused")&&setTimeout(function(){i.removeData("was-focused").focus()},0)}i.after(function(){return i.next().is("span.mark")?"":'<span class="mark"/>'}),t&&i.val()?i.parent().addClass("valid"):t||i.parent().addClass("invalid")}}}),$.validator.setDefaults({ignore:[],errorElement:"span",errorClass:"invalid",errorPlacement:function(e,t){$(t).closest(".marked").length?t.closest(".marked").parent().append(e):t.parent().append(e)},onfocusout:function(e){$(e).valid()},onkeyup:function(e){$(e).valid()},showErrors:function(){this.validElements().map(function(e,t){$.validator.markElement(t,!0)}),this.invalidElements().map(function(e,t){$.validator.markElement(t,!1)}),this.defaultShowErrors()},messages:{firstName:{required:e.firstName.required,requiredNotBlank:e.firstName.required,letterMustBe:e.firstName.required},customerFirstName:{required:e.firstName.required,requiredNotBlank:e.firstName.required,letterMustBe:e.firstName.required},lastName:{required:e.lastName.required,requiredNotBlank:e.lastName.required,letterMustBe:e.lastName.required},customerLastName:{required:e.lastName.required,requiredNotBlank:e.lastName.required,letterMustBe:e.lastName.required},email:{required:e.email.required,requiredNotBlank:e.email.required,remote:e.email.isTaken},customerEmail:{required:e.email.required,requiredNotBlank:e.email.required,remote:e.email.isInvalid},emailAddress:{required:e.email.required},loginOrEmail:{required:"Podaj login lub adres e-mail"},password:{required:e.password.required,requiredNotBlank:e.password.required,minlength:e.password.minlength,maxlength:e.password.maxlength},passwordConfirmation:{equalTo:"Hasła nie są takie same."},termsOfUseAcceptation:{required:e.termsOfUseAcceptation.required},privacyPolicyAcceptation:{required:e.privacyPolicyAcceptation.required},esdAcceptation:{required:e.esdAcceptation.required},storeDepartment:{required:"Wybierz salon, w którym chcesz odebrać zamówienie."},deliveryMethod:{required:"Wybierz sposób dostawy lub odbioru"},paymentMethod:{required:"Wybierz sposób płatności"},invoiceNip:{remote:"Podany NIP jest za krótki lub nie zgadza się suma kontrolna. Sprawdź jego poprawność i spróbuj ponownie."},phoneNumber:{required:e.phoneNumber.required,exactlength:e.phoneNumber.exactlength},customerPhone:{required:e.phoneNumber.required,exactlength:e.phoneNumber.exactlength},shipmentPhone:{required:e.phoneNumber.required,exactlength:e.phoneNumber.exactlength},inpostPhoneNumber:{required:e.phoneNumber.required,exactlength:e.phoneNumber.exactlength},inpostProvince:{required:"Wybierz województwo, aby wyświetlić listę Paczkomatów."},inpostCity:{required:"Wybierz miasto, aby wyświetlić listę Paczkomatów."},inpostPackstationCode:{required:"Wybierz Paczkomat, w którym chcesz odebrać zamówienie."},instalmentFirstPayType:{required:"Wybierz sposób wpłaty własnej."},shipmentName:{requiredNotBlank:e.shipmentName.required,letterMustBe:e.shipmentName.required},invoiceName:{requiredNotBlank:e.shipmentName.required,letterMustBe:e.shipmentName.required},invoiceStreet:{required:e.shipmentStreet.required,requiredNotBlank:e.shipmentStreet.required},customerStreet:{required:e.shipmentStreet.required,requiredNotBlank:e.shipmentStreet.required},shipmentStreet:{required:e.shipmentStreet.required,requiredNotBlank:e.shipmentStreet.required},shipmentCity:{required:e.shipmentCity.required,requiredNotBlank:e.shipmentCity.required},customerCity:{required:e.shipmentCity.required,requiredNotBlank:e.shipmentCity.required},invoiceCity:{required:e.shipmentCity.required,requiredNotBlank:e.shipmentCity.required},nickname:{remote:"Wprowadzony nick zawiera wulgarne wyrazy lub został uznany za spam."},commentBodyTemp:{remote:"Wprowadzona treść zawiera wulgarne wyrazy lub została uznana za spam."},questionGroup:{required:e.questionGroup.required,notEqual:e.questionGroup.required},questionTopic:{required:e.questionTopic.required,notEqual:e.questionTopic.required},question:{required:e.question.required,notEqual:e.question.required},q:{required:"Wpisz, czego szukasz.",minlength:"Aby wyszukać produkty, wpisz minimum 2 znaki."},basket_list_name:{letterMustBe:"Nazwa wymaga przynajmniej jednej litery."}}}),$.validator.addMethod("postcode",function(e,t){return this.optional(t)||new RegExp("^[0-9]{2}-[0-9]{3}$").test(e)},$.validator.format("The postcode is invalid.")),$.validator.addMethod("exactlength",function(e,t,i){return this.optional(t)||e.length===i},$.validator.format("Please enter exactly {0} characters.")),$.validator.addMethod("requiredNotBlank",function(e){return 0<$.trim(e).length},$.validator.format("This field is required.")),$.validator.addMethod("notEqual",function(e,t,i){return i!==e},$.validator.format("Fields are not equal.")),$.validator.addMethod("letterMustBe",function(e,t){return this.optional(t)||/[A-Za-ząćęłńóśźż]/i.test(e)},"Only alphabetical characters"),$.extend($.validator.messages,{required:"To pole jest wymagane.",requiredNotBlank:"To pole jest wymagane.",remote:"Proszę o wypełnienie tego pola.",email:"Podaj prawidłowy adres e-mail.",url:"Proszę o podanie prawidłowego URL.",date:"Proszę o podanie prawidłowej daty.",dateISO:"Proszę o podanie prawidłowej daty (ISO).",number:"Proszę o podanie prawidłowej liczby.",digits:"Proszę o podanie samych cyfr.",creditcard:"Proszę o podanie prawidłowej karty kredytowej.",equalTo:"Proszę o podanie tej samej wartości ponownie.",accept:"Proszę o podanie wartości z prawidłowym rozszerzeniem.",maxlength:$.validator.format("Maksymalna ilość znaków to {0}."),minlength:$.validator.format("Minimalna ilość znaków to {0}."),exactlength:$.validator.format("Wymagana ilość znaków to {0}."),rangelength:$.validator.format("Proszę o podanie wartości o długości od {0} do {1} znaków."),range:$.validator.format("Proszę o podanie wartości z przedziału od {0} do {1}."),max:$.validator.format("Proszę o podanie wartości mniejszej bądź równej {0}."),min:$.validator.format("Proszę o podanie wartości większej bądź równej {0}."),postcode:"Podaj kod pocztowy w formacie XX-XXX."}),toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-right",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};var n,o,r,t=$(".js-sticked");if(0<t.length){var i=t.height();$(window).scroll(function(){$(this).scrollTop()>i?t.addClass("sticked"):t.removeClass("sticked")})}function a(e){var t=$(e).find("tr");t.length<=5||($(e).parent().addClass(r),t.each(function(e,t){5<e+1&&$(t).addClass("hidden-row")}),function(e){var t=document.createElement("button"),i=document.createElement("div");t.textContent=o,t.className="button button-gray",t.setAttribute("data-is-visible","false"),t.onclick=function(){var e=$(this),t=e.parents("."+r).find("table").find("tr"),i=e.data("is-visible");if(t.each(function(e,t){5<e+1&&$(t).toggleClass("hidden-row",i)}),i){var a=$("#header").outerHeight()+20;$("html, body").animate({scrollTop:e.parents("."+r).offset().top-a})}this.textContent=i?o:n,e.data("is-visible",function(e){return!e}(i))},i.className="button-container text-center",i.appendChild(t),function(e,t){e.parentNode.insertBefore(t,e.nextSibling)}(e,i)}(e))}Hitman.Request.storeLocation(),Hitman.Navigation.init(),Hitman.RwdSwitch.init(),Hitman.MobileAppInfo.init(),$("#newsletterBox").validate({rules:{email:{required:!0}},errorLabelContainer:"#newsletterBoxErrorLabelContainer",highlight:function(e){var t=$(e).closest("form").find("label");t.addClass("input-group-addon-button-error"),t.find("i").removeClass().addClass("icon icon-small-close")},unhighlight:function(e){this.settings.onfocusoutUserFunction(e)},onfocusoutUserFunction:function(e){var t=$(e).closest("form").find("label");t.removeClass("input-group-addon-button-error"),t.find("i").removeClass().addClass("icon icon-small-arrow-white-right")}}),Hitman.SearchBar.init(),Hitman.SearchHints.init(),Hitman.Utils.SelectReplacement.replace($(".js-selectable")),Hitman.Utils.ScrollTo.init(),Hitman.Slick.init(),$(".js-scrollable-list").mCustomScrollbar({live:"once",theme:"3d-dark",mouseWheel:{preventDefault:!0}}),$(".coupons-code-link").on("click",function(){$(".coupons-code-form").show(),$("#couponCode").focus(),$(".coupons-code-link").hide()}),$(".coupons-code-deactivate .icon-cancel").on("click",function(){$(this).closest("form").submit()}),$(".coupons-code-deactivate .icon-cancel").tooltipster({content:$("<span><strong>Anuluj</strong></span>")}),$(".js-replace-text").on("click",function(){var e=$(this),t=e.data("toggle-replace-text");t&&(e.data("toggle-replace-text",e.text()),e.text(t))}),$("body").on("click",".js-block-slide",function(e){e.preventDefault();var t=$(this).attr("href"),i=$(t);i.siblings().slideUp(),i.is(":visible")?i.slideUp(400):i.slideDown(function(){$("html, body").animate({scrollTop:i.offset().top-200},400)})}),"true"!==$.cookie("cookieAccept")&&($(".popup-cookie-line").addClass("popup-cookie-show"),$(".cookie-confirm").on("click",function(e){e.preventDefault(),$.cookie("cookieAccept",!0,{expires:365,path:"/"}),$(".popup-cookie-line").removeClass("popup-cookie-show")})),$(".fancybox").fancybox({fitToView:!1,autoSize:!1,closeClick:!0,openEffect:"none",closeEffect:"none",afterLoad:function(){this.width=$(this.element).data("width"),this.height=$(this.element).data("height")}}),Hitman.Utils.AnchorJump.replaceDefaultFor(["#comments"]),n="Mniej",o="Więcej",r="js-table-preview-container",$(".js-table-preview").first().each(function(e,t){a(t)}),{create:function(e){var a=e||{};return $(".js-collapsible").each(function(e,t){var i=$(t).find(a.buttonSelector);i.length&&(i.addClass("collapse-toggler"),i.on("click",function(){$(this).closest(a.containerSelector).toggleClass("collapsed")}))}),this}}.create({buttonSelector:".content-toggler",containerSelector:".collapsible-container"}).create({buttonSelector:".collapsible-button",containerSelector:".collapsible-container"}).create({buttonSelector:".content-toggler",containerSelector:".average-rating"}).create({buttonSelector:"hr.line + h2",containerSelector:".box"}),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),$(".js-return-link").on("click",function(){Hitman.Request.redirect()}),$(".fn-banner-widget").on("click","header",function(){$(".why-us-content").toggleClass("active"),$(".why-us-wrapper").toggleClass("opened")}),$(document).one("click",".js-add-to-cart",function(e){var t=$(this).closest("[data-product-id]").data("product-id");Hitman.Basket.add(t,1,function(){-1!==window.location.href.indexOf("koszyk")&&window.location.reload()}),e.preventDefault()}),$("a, button").filter(".js-once-clickable").one("click",function(){$(this).bind("click",function(e){e.preventDefault()})}),$(".installment-button").on("click",function(){$(".installment-block").toggleClass("hidden")});var s=$(".privacy-more-content");$("body").on("click",".js-privacy-more-link",function(e){$(this).next(s).hasClass("show")?($(this).next(s).removeClass("show"),$(this).text("rozwiń »")):($(this).next(s).addClass("show"),$(this).text("zwiń »")),e.preventDefault()});!function(){var e=$("[name='consents[regulations]']");if(0!==e.length){e.attr("data-msg-required","Zaakceptuj regulamin.");var t=e.next("label");if(0<t.length){var i=t.html().replace(/\s(regulamin)\s/,' <a href="'+_config.linkToRegulations+'" target="_blank">regulamin</a> ');t.html(i)}}}()});